{"remainingRequest":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-api/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/karthik/Desktop/myetherwallet/ethereum-wallet-api/src/layouts/AccessWalletLayout/components/Web3WalletModal/Web3WalletModal.vue?vue&type=style&index=0&id=f8bf579a&lang=scss&scoped=true&","dependencies":[{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-api/src/layouts/AccessWalletLayout/components/Web3WalletModal/Web3WalletModal.vue","mtime":1574664278290},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-api/node_modules/css-loader/index.js","mtime":1574664275862},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-api/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1574664277774},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-api/node_modules/postcss-loader/src/index.js","mtime":1574664277114},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-api/node_modules/sass-loader/dist/cjs.js","mtime":1574664277374},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-api/node_modules/cache-loader/dist/cjs.js","mtime":1574664275186},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-api/node_modules/vue-loader/lib/index.js","mtime":1574664277774}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import 'Web3WalletModal.scss';\n",{"version":3,"sources":["Web3WalletModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiRA","file":"Web3WalletModal.vue","sourceRoot":"src/layouts/AccessWalletLayout/components/Web3WalletModal","sourcesContent":["<template>\n  <b-modal\n    ref=\"metamask\"\n    :title=\"isMetaMask ? 'Access via MetaMask' : 'Access via MEWCX'\"\n    hide-footer\n    static\n    lazy\n    class=\"bootstrap-modal nopadding modal-metamask\"\n    centered\n  >\n    <div class=\"modal-content\">\n      <div v-if=\"isSafari && isMetaMask\" class=\"browser-catch\">\n        <h4>\n          MetaMask is only available in these browsers:\n        </h4>\n        <div class=\"browser-logo-container\">\n          <a\n            v-for=\"browser in browsers\"\n            :key=\"browser.name\"\n            :href=\"browser.link\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            <img :src=\"browser.logo\" alt />\n          </a>\n        </div>\n      </div>\n      <div v-if=\"isSafari && !isMetaMask\" class=\"browser-catch\">\n        <h4>\n          MEWCX is only available in these browsers:\n        </h4>\n        <div class=\"browser-logo-container\">\n          <a\n            v-for=\"browser in mewSupportedBrowsers\"\n            :key=\"browser.name\"\n            :href=\"browser.link\"\n            rel=\"noopener noreferrer\"\n            target=\"_blank\"\n          >\n            <img :src=\"browser.logo\" />\n          </a>\n        </div>\n      </div>\n      <div v-else-if=\"web3WalletExists\">\n        <div class=\"modal-multi-icons\">\n          <img\n            :src=\"\n              isMetaMask\n                ? require('@/assets/images/icons/button-metamask.svg')\n                : require('@/assets/images/mew-cx-logo.png')\n            \"\n            :class=\"[isMetaMask ? 'metamask' : 'mew', 'icon']\"\n            alt\n          />\n          <img alt class=\"icon\" src=\"~@/assets/images/icons/clip.svg\" />\n          <img\n            alt\n            class=\"icon logo-small\"\n            src=\"~@/assets/images/logo-small.png\"\n          />\n        </div>\n        <div class=\"d-block content-container text-center\">\n          <h4 v-show=\"!unlockWeb3Wallet\">\n            {{ $t('accessWallet.web3WalletModalDesc') }}\n          </h4>\n          <h4 v-show=\"unlockWeb3Wallet\">\n            {{ $t('accessWallet.unlockWeb3Wallet') }}\n          </h4>\n        </div>\n        <div class=\"accept-terms\">\n          <label class=\"checkbox-container\">\n            {{ $t('accessWallet.acceptTerms') }}\n            <router-link to=\"/terms-and-conditions\">\n              {{ $t('common.terms') }} </router-link\n            >.\n            <input\n              type=\"checkbox\"\n              @click=\"accessMyWalletBtnDisabled = !accessMyWalletBtnDisabled\"\n            />\n            <span class=\"checkmark\" />\n          </label>\n        </div>\n        <div class=\"button-container\">\n          <b-btn\n            v-show=\"!unlockWeb3Wallet\"\n            :disabled=\"accessMyWalletBtnDisabled\"\n            class=\"mid-round-button-green-filled close-button\"\n            @click=\"getWeb3Wallet\"\n            >{{ $t('common.accessMyWallet') }}</b-btn\n          >\n          <b-btn\n            v-show=\"unlockWeb3Wallet\"\n            class=\"mid-round-button-green-filled close-button\"\n            @click=\"getWeb3Wallet\"\n            >{{ $t('accessWallet.tryAgain') }}</b-btn\n          >\n        </div>\n      </div>\n      <div v-else>\n        <div class=\"modal-multi-icons\">\n          <img alt class=\"icon mew cx\" src=\"@/assets/images/mew-cx-logo.png\" />\n        </div>\n        <div class=\"d-block content-container text-center\">\n          <h4>{{ $t('accessWallet.installWeb3WalletModalDesc') }}</h4>\n        </div>\n        <div class=\"accept-terms hidden\">\n          <label class=\"checkbox-container\">\n            {{ $t('accessWallet.acceptTerms') }}\n            <router-link to=\"/terms-and-conditions\">\n              {{ $t('common.terms') }} </router-link\n            >. <input type=\"checkbox\" /> <span class=\"checkmark\" />\n          </label>\n        </div>\n        <div class=\"button-container\">\n          <a\n            v-show=\"!refreshPage\"\n            href=\"https://www.mewcx.com\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            class=\"mid-round-button-green-filled close-button\"\n            @click=\"refreshPage = true\"\n            >Install MEW CX</a\n          >\n          <b-btn\n            v-show=\"refreshPage\"\n            class=\"mid-round-button-green-filled close-button\"\n            @click=\"reload\"\n            >{{ $t('accessWallet.refresh') }}</b-btn\n          >\n        </div>\n      </div>\n      <customer-support />\n    </div>\n    <!-- .modal-content -->\n  </b-modal>\n</template>\n\n<script>\nimport CustomerSupport from '@/components/CustomerSupport';\nimport { Web3Wallet } from '@/wallets/software';\nimport { Toast } from '@/helpers';\nimport Web3 from 'web3';\nimport { mapState } from 'vuex';\nimport platform from 'platform';\nimport brave from '@/assets/images/browser/brave.png';\nimport chrome from '@/assets/images/browser/chrome.png';\nimport firefox from '@/assets/images/browser/firefox.png';\nimport opera from '@/assets/images/browser/opera.png';\n\nexport default {\n  components: {\n    'customer-support': CustomerSupport\n  },\n  props: {\n    networkAndAddressOpen: {\n      type: Function,\n      default: function() {}\n    },\n    isMetaMask: {\n      type: Boolean,\n      default: false\n    },\n    web3WalletExists: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      accessMyWalletBtnDisabled: true,\n      unlockWeb3Wallet: false,\n      refreshPage: false,\n      isSafari: false,\n      browsers: [\n        {\n          logo: brave,\n          link: 'https://brave.com/',\n          name: 'brave'\n        },\n        {\n          logo: firefox,\n          link: 'https://www.mozilla.org/en-US/firefox/?v=b',\n          name: 'firefox'\n        },\n        {\n          logo: opera,\n          link: 'https://www.opera.com/',\n          name: 'opera'\n        },\n        {\n          logo: chrome,\n          link: 'https://www.google.com/chrome/',\n          name: 'chrome'\n        }\n      ],\n      mewSupportedBrowsers: [\n        {\n          logo: brave,\n          link: 'https://brave.com/',\n          name: 'brave'\n        },\n        {\n          logo: opera,\n          link: 'https://www.opera.com/',\n          name: 'opera'\n        },\n        {\n          logo: chrome,\n          link: 'https://www.google.com/chrome/',\n          name: 'chrome'\n        }\n      ]\n    };\n  },\n  computed: {\n    ...mapState(['path'])\n  },\n  mounted() {\n    this.isSafari = platform.name.toLowerCase() === 'safari';\n  },\n  methods: {\n    reload() {\n      window.location.reload();\n    },\n    async getWeb3Wallet() {\n      if (!this.web3WalletExists) return;\n      if (window.ethereum) {\n        const web3 = new Web3(window.ethereum);\n        try {\n          await window.ethereum.enable();\n        } catch (e) {\n          Toast.responseHandler(e, Toast.WARN);\n\n          if (e.stack.includes('Error: User denied account authorization')) {\n            return (this.unlockWeb3Wallet = true);\n          }\n\n          return;\n        }\n        this.signIn(web3, 'ethereum');\n      } else if (window.web3) {\n        this.signIn(window.web3);\n      }\n    },\n    async signIn(web3, type) {\n      try {\n        const newWeb3 = new Web3(web3.currentProvider);\n        const acc = await newWeb3.eth.getAccounts();\n        if (type === 'ethereum') {\n          window.ethereum.autoRefreshOnNetworkChange = false;\n        }\n        if (!acc.length) return (this.unlockWeb3Wallet = true);\n        const wallet = new Web3Wallet(acc[0]);\n        this.$store.dispatch('decryptWallet', [\n          wallet,\n          newWeb3.currentProvider\n        ]);\n        this.$router.push({\n          path: 'interface'\n        });\n      } catch (e) {\n        if (e.stack.includes('Error: User denied account authorization')) {\n          Toast.responseHandler(e.stack, Toast.ERROR);\n          return (this.unlockWeb3Wallet = true);\n        }\n        Toast.responseHandler(e, Toast.ERROR);\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'Web3WalletModal.scss';\n</style>\n"]}]}