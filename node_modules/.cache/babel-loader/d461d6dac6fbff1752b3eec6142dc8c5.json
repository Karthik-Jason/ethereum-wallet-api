{"remainingRequest":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/babel-loader/lib/index.js!/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/karthik/Desktop/myetherwallet/MyEtherWallet/src/dapps/ManageENS/containers/ManageENSContainer/ManageENSContainer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/src/dapps/ManageENS/containers/ManageENSContainer/ManageENSContainer.vue","mtime":1573477611660},{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.array.find\";\nimport _defineProperty from \"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport InterfaceBottomText from '@/components/InterfaceBottomText';\nimport { isAddress } from '@/helpers/addressUtils';\nimport { mapState } from 'vuex';\nimport { Toast } from '@/helpers';\nimport utils from 'web3-utils';\nimport supportedTxt from \"../../supportedTxt\";\nexport default {\n  components: {\n    'interface-bottom-text': InterfaceBottomText\n  },\n  props: {\n    domainName: {\n      type: String,\n      default: ''\n    },\n    setMultiCoin: {\n      type: Function,\n      default: function _default() {}\n    },\n    setRecord: {\n      type: Function,\n      default: function _default() {}\n    },\n    transferDomain: {\n      type: Function,\n      default: function _default() {}\n    },\n    tld: {\n      type: String,\n      default: ''\n    },\n    resolverMultiCoinSupport: {\n      type: Boolean,\n      default: false\n    },\n    resolverTxtSupport: {\n      type: Boolean,\n      default: false\n    },\n    supportedCoins: {\n      type: Object,\n      default: function _default() {}\n    },\n    txtRecords: {\n      type: Object,\n      default: function _default() {}\n    }\n  },\n  data: function data() {\n    var newCoinsCopy = this.copySupported();\n    var newtxtRecords = {};\n\n    for (var key in newCoinsCopy) {\n      if (newCoinsCopy[key].hasOwnProperty('value') && newCoinsCopy[key].value === '') delete newCoinsCopy[key];\n    }\n\n    for (var _key in this.txtRecords) {\n      if (this.txtRecords[_key] !== '') {\n        newtxtRecords[_key] = this.txtRecords[_key];\n      }\n    }\n\n    return {\n      transferTo: '',\n      multiCoinSupport: false,\n      isAddress: isAddress,\n      currencyInputs: newCoinsCopy,\n      selectedCurrency: 'ETH',\n      selectedText: 'Email',\n      hasError: false,\n      txtRecordInputs: newtxtRecords\n    };\n  },\n  computed: _objectSpread({}, mapState(['web3']), {\n    isValidAddresses: function isValidAddresses() {\n      for (var type in this.currencyInputs) {\n        if (this.currencyInputs[type].value !== '' && !this.currencyInputs[type].validator.validate(this.currencyInputs[type].value)) return false;\n      }\n\n      return true;\n    },\n    validTextRecords: function validTextRecords() {\n      for (var type in this.txtRecordInputs) {\n        if (this.txtRecordInputs[type] && this.txtRecordInputs[type] !== '') return false;\n      }\n\n      return true;\n    }\n  }),\n  watch: {\n    currencyInputs: {\n      handler: function handler(newVal) {\n        this.currencyInputs = newVal;\n      },\n      deep: true\n    },\n    txtRecordInputs: {\n      handler: function handler(newVal) {\n        this.txtRecordInputs = newVal;\n      },\n      deep: true\n    }\n  },\n  mounted: function mounted() {\n    if (this.domainName === '.') {\n      this.$router.push('/interface/dapps/manage-ens');\n    }\n  },\n  methods: {\n    getValidation: function getValidation(name) {\n      var foundObj = supportedTxt.find(function (item) {\n        return item.name.toLowerCase() === name.toLowerCase();\n      });\n\n      switch (foundObj.type) {\n        case 'url':\n          return 'required|url:require_protocol';\n\n        case 'email':\n          return 'email|required';\n\n        default:\n          return 'required';\n      }\n    },\n    copySupported: function copySupported() {\n      var newObj = utils._.map(this.supportedCoins, utils._.clone);\n\n      var copiedObj = {};\n      newObj.forEach(function (item) {\n        copiedObj[item.symbol] = item;\n      });\n      return copiedObj;\n    },\n    addCurrencyInput: function addCurrencyInput(item) {\n      this.selectedCurrency = item;\n      var unRefSupportedCoins = this.copySupported();\n      var newObj = Object.assign({}, this.currencyInputs);\n\n      if (!newObj[item]) {\n        newObj[item] = unRefSupportedCoins[item];\n        this.currencyInputs = newObj;\n      } else {\n        Toast.responseHandler(\"Currency \".concat(item, \" is already added for \").concat(this.domainName), Toast.WARN);\n      }\n    },\n    addTxtInput: function addTxtInput(item) {\n      this.selectedText = item;\n      var newObj = Object.assign({}, this.txtRecordInputs);\n\n      if (!newObj[item]) {\n        newObj[item] = this.txtRecordInputs[item];\n        this.txtRecordInputs = newObj;\n      } else {\n        Toast.responseHandler(\"Text Record \".concat(item, \" input is already added for \").concat(this.domainName), Toast.WARN);\n      }\n    },\n    removeCoinInput: function removeCoinInput(name) {\n      var newObj = Object.assign({}, this.currencyInputs);\n      newObj[name].value = '';\n      this.currencyInputs = newObj;\n    },\n    removeTxtInput: function removeTxtInput(name) {\n      var newObj = Object.assign({}, this.txtRecordInputs);\n      newObj[name] = '';\n      this.txtRecordInputs = newObj;\n    },\n    checkAndSendTxtRecs: function checkAndSendTxtRecs() {\n      var changed = {};\n      var currencyInputsObj = Object.assign({}, this.txtRecordInputs);\n      var currentSupported = Object.assign({}, this.txtRecords);\n      Object.keys(currentSupported).forEach(function (item) {\n        if (currencyInputsObj[item] && currentSupported[item] !== currencyInputsObj[item]) {\n          changed[item] = currencyInputsObj[item];\n        }\n      });\n\n      if (Object.keys(changed).length > 0) {\n        this.setRecord(changed);\n      }\n    },\n    checkAndSendCurrency: function checkAndSendCurrency() {\n      var changed = [];\n      var currencyInputsObj = Object.assign({}, this.currencyInputs);\n      var currentSupported = Object.assign({}, this.supportedCoins);\n      Object.keys(currentSupported).forEach(function (item) {\n        if (currencyInputsObj[item] && currentSupported[item].value !== currencyInputsObj[item].value) {\n          changed.push(currencyInputsObj[item]);\n        }\n      });\n\n      if (changed.length > 0) {\n        this.setMultiCoin(changed);\n      }\n    }\n  }\n};",{"version":3,"sources":["ManageENSContainer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"manage-ens-container\">\n    <h3>{{ $t('dapps.manage') }} {{ domainName }}</h3>\n    <b-btn\n      v-b-toggle.multicoinsec\n      v-show=\"resolverMultiCoinSupport\"\n      class=\"collapse-open-button\"\n      variant=\"primary\"\n    >\n      <p>Multi coin</p>\n    </b-btn>\n    <b-collapse\n      id=\"multicoinsec\"\n      :visible=\"resolverMultiCoinSupport\"\n      class=\"collapse-content\"\n      accordion=\"manage-ens-accordion\"\n    >\n      <div class=\"form-container\">\n        <form class=\"manage-multi-coin-form\">\n          <div class=\"title-and-dropdown-container\">\n            <h4>Multi-Coin:</h4>\n            <b-dd :text=\"selectedCurrency\" class=\"dropdown-button-2\">\n              <b-dd-item\n                v-for=\"(item, idx) in Object.keys(supportedCoins)\"\n                :key=\"item + idx\"\n                @click=\"addCurrencyInput(item)\"\n                >{{ item }}</b-dd-item\n              >\n            </b-dd>\n          </div>\n          <div\n            v-for=\"(v, k) in currencyInputs\"\n            :key=\"k.id\"\n            class=\"multi-coin-input-container\"\n          >\n            <label for=\"updateResolver\">{{ k }}:</label>\n            <input\n              v-model=\"v.value\"\n              :placeholder=\"v.name + ' address'\"\n              type=\"text\"\n              name=\"updateResolver\"\n            />\n            <i\n              :class=\"[\n                'validity-indication fa',\n                v.value !== '' && !v.validator.validate(v.value)\n                  ? 'error fa-times-circle-o'\n                  : 'valid fa-check-circle-o'\n              ]\"\n            />\n            <i\n              class=\"fa fa-lg fa-times\"\n              @click=\"\n                () => {\n                  removeCoinInput(k);\n                }\n              \"\n            />\n          </div>\n          <div class=\"multi-coin-submit-container\">\n            <button\n              :class=\"isValidAddresses ? '' : 'disabled'\"\n              @click.prevent=\"checkAndSendCurrency\"\n            >\n              Save\n            </button>\n          </div>\n        </form>\n      </div>\n    </b-collapse>\n    <b-btn\n      v-b-toggle.textrecords\n      v-show=\"resolverTxtSupport\"\n      class=\"collapse-open-button\"\n      variant=\"primary\"\n    >\n      <p>Text Records</p>\n    </b-btn>\n    <b-collapse\n      id=\"textrecords\"\n      :visible=\"!resolverMultiCoinSupport && resolverTxtSupport\"\n      class=\"collapse-content\"\n      accordion=\"manage-ens-accordion\"\n    >\n      <div class=\"form-container\">\n        <form class=\"manage-multi-coin-form\">\n          <div class=\"title-and-dropdown-container\">\n            <h4>Text Records:</h4>\n            <b-dd :text=\"selectedText | capitalize\" class=\"dropdown-button-2\">\n              <b-dd-item\n                v-for=\"(item, idx) in Object.keys(txtRecords)\"\n                :key=\"item + idx\"\n                @click=\"addTxtInput(item)\"\n                >{{ item | capitalize }}</b-dd-item\n              >\n            </b-dd>\n          </div>\n          <div\n            v-for=\"(v, k) in txtRecordInputs\"\n            :key=\"k.id\"\n            class=\"multi-coin-input-container\"\n          >\n            <label for=\"updateResolver\">{{ k | capitalize }}:</label>\n            <input\n              v-validate=\"getValidation(k)\"\n              v-model=\"txtRecordInputs[k]\"\n              :placeholder=\"k | capitalize\"\n              :name=\"k\"\n              type=\"text\"\n            />\n            <i\n              :class=\"[\n                'validity-indication fa',\n                !!txtRecordInputs[k] &&\n                txtRecordInputs[k] !== '' &&\n                !errors.hasOwnProperty(`${k}`)\n                  ? 'valid fa-check-circle-o'\n                  : 'error fa-times-circle-o'\n              ]\"\n            />\n            <i\n              class=\"fa fa-lg fa-times\"\n              @click=\"\n                () => {\n                  removeTxtInput(k);\n                }\n              \"\n            />\n          </div>\n          <div class=\"multi-coin-submit-container\">\n            <button\n              :class=\"validTextRecords ? 'disabled' : ''\"\n              @click.prevent=\"checkAndSendTxtRecs\"\n            >\n              Save\n            </button>\n          </div>\n        </form>\n      </div>\n    </b-collapse>\n    <b-btn\n      v-b-toggle.transferens\n      class=\"collapse-open-button\"\n      variant=\"primary\"\n    >\n      <p>Transfer Domain</p>\n    </b-btn>\n    <b-collapse\n      id=\"transferens\"\n      :visible=\"!resolverMultiCoinSupport && !resolverTxtSupport\"\n      class=\"collapse-content\"\n      accordion=\"manage-ens-accordion\"\n    >\n      <div class=\"form-container\">\n        <form class=\"manage-form\">\n          <div class=\"input-container\">\n            <label for=\"transferEns\">{{ $t('dapps.transferEnsTo') }}:</label>\n            <input\n              v-model=\"transferTo\"\n              type=\"text\"\n              name=\"transferEns\"\n              placeholder=\"0xDECAF9CD2367cdbb726E904cD6397eDFcAe6068D\"\n            />\n          </div>\n          <div class=\"submit-container\">\n            <button\n              :class=\"!isAddress(transferTo) ? 'disabled' : ''\"\n              type=\"submit\"\n              @click.prevent=\"transferDomain(transferTo)\"\n            >\n              Transfer\n            </button>\n          </div>\n        </form>\n      </div>\n    </b-collapse>\n    <interface-bottom-text\n      :link-text=\"$t('interface.helpCenter')\"\n      :question=\"$t('interface.haveIssues')\"\n      link=\"https://kb.myetherwallet.com\"\n    />\n  </div>\n</template>\n<script>\nimport InterfaceBottomText from '@/components/InterfaceBottomText';\nimport { isAddress } from '@/helpers/addressUtils';\nimport { mapState } from 'vuex';\nimport { Toast } from '@/helpers';\nimport utils from 'web3-utils';\nimport supportedTxt from '../../supportedTxt';\nexport default {\n  components: {\n    'interface-bottom-text': InterfaceBottomText\n  },\n  props: {\n    domainName: {\n      type: String,\n      default: ''\n    },\n    setMultiCoin: {\n      type: Function,\n      default: function() {}\n    },\n    setRecord: {\n      type: Function,\n      default: function() {}\n    },\n    transferDomain: {\n      type: Function,\n      default: function() {}\n    },\n    tld: {\n      type: String,\n      default: ''\n    },\n    resolverMultiCoinSupport: {\n      type: Boolean,\n      default: false\n    },\n    resolverTxtSupport: {\n      type: Boolean,\n      default: false\n    },\n    supportedCoins: {\n      type: Object,\n      default: function() {}\n    },\n    txtRecords: {\n      type: Object,\n      default: function() {}\n    }\n  },\n  data() {\n    const newCoinsCopy = this.copySupported();\n    const newtxtRecords = {};\n    for (const key in newCoinsCopy) {\n      if (\n        newCoinsCopy[key].hasOwnProperty('value') &&\n        newCoinsCopy[key].value === ''\n      )\n        delete newCoinsCopy[key];\n    }\n\n    for (const key in this.txtRecords) {\n      if (this.txtRecords[key] !== '') {\n        newtxtRecords[key] = this.txtRecords[key];\n      }\n    }\n\n    return {\n      transferTo: '',\n      multiCoinSupport: false,\n      isAddress: isAddress,\n      currencyInputs: newCoinsCopy,\n      selectedCurrency: 'ETH',\n      selectedText: 'Email',\n      hasError: false,\n      txtRecordInputs: newtxtRecords\n    };\n  },\n  computed: {\n    ...mapState(['web3']),\n    isValidAddresses() {\n      for (const type in this.currencyInputs) {\n        if (\n          this.currencyInputs[type].value !== '' &&\n          !this.currencyInputs[type].validator.validate(\n            this.currencyInputs[type].value\n          )\n        )\n          return false;\n      }\n      return true;\n    },\n    validTextRecords() {\n      for (const type in this.txtRecordInputs) {\n        if (this.txtRecordInputs[type] && this.txtRecordInputs[type] !== '')\n          return false;\n      }\n      return true;\n    }\n  },\n  watch: {\n    currencyInputs: {\n      handler: function(newVal) {\n        this.currencyInputs = newVal;\n      },\n      deep: true\n    },\n    txtRecordInputs: {\n      handler: function(newVal) {\n        this.txtRecordInputs = newVal;\n      },\n      deep: true\n    }\n  },\n  mounted() {\n    if (this.domainName === '.') {\n      this.$router.push('/interface/dapps/manage-ens');\n    }\n  },\n  methods: {\n    getValidation(name) {\n      const foundObj = supportedTxt.find(item => {\n        return item.name.toLowerCase() === name.toLowerCase();\n      });\n\n      switch (foundObj.type) {\n        case 'url':\n          return 'required|url:require_protocol';\n        case 'email':\n          return 'email|required';\n        default:\n          return 'required';\n      }\n    },\n    copySupported() {\n      const newObj = utils._.map(this.supportedCoins, utils._.clone);\n      const copiedObj = {};\n      newObj.forEach(item => {\n        copiedObj[item.symbol] = item;\n      });\n\n      return copiedObj;\n    },\n    addCurrencyInput(item) {\n      this.selectedCurrency = item;\n      const unRefSupportedCoins = this.copySupported();\n      const newObj = Object.assign({}, this.currencyInputs);\n      if (!newObj[item]) {\n        newObj[item] = unRefSupportedCoins[item];\n        this.currencyInputs = newObj;\n      } else {\n        Toast.responseHandler(\n          `Currency ${item} is already added for ${this.domainName}`,\n          Toast.WARN\n        );\n      }\n    },\n    addTxtInput(item) {\n      this.selectedText = item;\n      const newObj = Object.assign({}, this.txtRecordInputs);\n      if (!newObj[item]) {\n        newObj[item] = this.txtRecordInputs[item];\n        this.txtRecordInputs = newObj;\n      } else {\n        Toast.responseHandler(\n          `Text Record ${item} input is already added for ${this.domainName}`,\n          Toast.WARN\n        );\n      }\n    },\n    removeCoinInput(name) {\n      const newObj = Object.assign({}, this.currencyInputs);\n      newObj[name].value = '';\n      this.currencyInputs = newObj;\n    },\n    removeTxtInput(name) {\n      const newObj = Object.assign({}, this.txtRecordInputs);\n      newObj[name] = '';\n      this.txtRecordInputs = newObj;\n    },\n    checkAndSendTxtRecs() {\n      const changed = {};\n\n      const currencyInputsObj = Object.assign({}, this.txtRecordInputs);\n      const currentSupported = Object.assign({}, this.txtRecords);\n      Object.keys(currentSupported).forEach(item => {\n        if (\n          currencyInputsObj[item] &&\n          currentSupported[item] !== currencyInputsObj[item]\n        ) {\n          changed[item] = currencyInputsObj[item];\n        }\n      });\n      if (Object.keys(changed).length > 0) {\n        this.setRecord(changed);\n      }\n    },\n    checkAndSendCurrency() {\n      const changed = [];\n      const currencyInputsObj = Object.assign({}, this.currencyInputs);\n      const currentSupported = Object.assign({}, this.supportedCoins);\n      Object.keys(currentSupported).forEach(item => {\n        if (\n          currencyInputsObj[item] &&\n          currentSupported[item].value !== currencyInputsObj[item].value\n        ) {\n          changed.push(currencyInputsObj[item]);\n        }\n      });\n      if (changed.length > 0) {\n        this.setMultiCoin(changed);\n      }\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n@import 'ManageENSContainer.scss';\n</style>\n"],"sourceRoot":"src/dapps/ManageENS/containers/ManageENSContainer"}]}