{"remainingRequest":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/babel-loader/lib/index.js!/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/src/containers/NotificationsContainer/components/NotificationTypes/SwapDetails/SwapDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/src/containers/NotificationsContainer/components/NotificationTypes/SwapDetails/SwapDetails.vue","mtime":1573477611640},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _defineProperty from \"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapState } from 'vuex';\nimport '@/assets/images/currency/coins/asFont/cryptocoins.css';\nimport '@/assets/images/currency/coins/asFont/cryptocoins-colors.css';\nimport Arrow from '@/assets/images/etc/single-arrow.svg';\nimport { providerMap, providerNames, fiat, EthereumTokens } from '@/partners';\nimport { swapOnlyStatuses, notificationStatuses, type as notificationType } from '@/helpers/notificationFormatters';\nexport default {\n  filters: {\n    concatAddress: function concatAddress(value) {\n      if (!value) return '';\n      return \"\".concat(value.substr(0, 7), \"...\").concat(value.substr(value.length - 7));\n    }\n  },\n  props: {\n    shown: {\n      type: Boolean,\n      default: false\n    },\n    notice: {\n      type: Object,\n      default: function _default() {\n        return {};\n      }\n    },\n    convertToGwei: {\n      type: Function,\n      default: function _default() {}\n    },\n    convertToEth: {\n      type: Function,\n      default: function _default() {}\n    },\n    getFiatValue: {\n      type: Function,\n      default: function _default() {}\n    },\n    dateString: {\n      type: Function,\n      default: function _default() {}\n    },\n    timeString: {\n      type: Function,\n      default: function _default() {}\n    },\n    errorMessageString: {\n      type: Function,\n      default: function _default() {}\n    },\n    hashLink: {\n      type: Function,\n      default: function _default() {}\n    },\n    addressLink: {\n      type: Function,\n      default: function _default() {}\n    },\n    processStatus: {\n      type: Function,\n      default: function _default() {}\n    },\n    childUpdateNotification: {\n      type: Function,\n      default: function _default() {}\n    }\n  },\n  data: function data() {\n    return {\n      providerNames: providerNames,\n      timerInterval: null,\n      statusInterval: null,\n      arrowImage: Arrow,\n      timeRemaining: 0,\n      unreadCount: 0,\n      fiatCurrencies: fiat.map(function (entry) {\n        return entry.symbol;\n      }),\n      notificationType: notificationType\n    };\n  },\n  computed: _objectSpread({}, mapState(['web3', 'network', 'notifications', 'wallet', 'gasPrice']), {\n    errorMessage: function errorMessage() {\n      return this.errorMessageString(this.notice);\n    },\n    isError: function isError() {\n      return this.notice.body.error;\n    },\n    details: function details() {\n      return this.notice.body;\n    },\n    txStatus: function txStatus() {\n      return this.processStatus(this.notice.swapStatus);\n    },\n    parseTimeRemaining: function parseTimeRemaining() {\n      var seconds = Math.floor(this.timeRemaining % 60);\n      var minutes = Math.floor(this.timeRemaining / 60 % 60);\n      return seconds >= 10 ? \"\".concat(minutes, \":\").concat(seconds) : \"\".concat(minutes, \":0\").concat(seconds);\n    },\n    isEthereum: function isEthereum() {\n      return EthereumTokens[this.notice.body.fromCurrency] !== undefined;\n    },\n    isToOtherChain: function isToOtherChain() {\n      return EthereumTokens[this.notice.body.toCurrency] === undefined;\n    },\n    isFromOtherChain: function isFromOtherChain() {\n      return EthereumTokens[this.notice.body.fromCurrency] === undefined;\n    },\n    isFromFiat: function isFromFiat() {\n      return this.fiatCurrencies.includes(this.notice.body.fromCurrency);\n    },\n    showId: function showId() {\n      return this.notice.body.provider === providerNames.bity || this.notice.body.provider === providerNames.changelly;\n    }\n  }),\n  beforeDestroy: function beforeDestroy() {\n    if (this.timerInterval !== null) {\n      clearInterval(this.timerInterval);\n    }\n\n    if (this.statusInterval !== null) {\n      clearInterval(this.statusInterval);\n    }\n  },\n  mounted: function mounted() {\n    this.timeRemaining = this.notice.body.timeRemaining;\n    this.provider = providerMap.get(this.notice.body.provider);\n    this.currentStatus = this.notice.swapStatus;\n    this.timeUpdater();\n    this.statusUpdater();\n  },\n  methods: {\n    emitShowDetails: function emitShowDetails() {\n      this.$emit('showDetails', ['swap', this.notice]);\n    },\n    shouldCheckStatus: function shouldCheckStatus() {\n      return [swapOnlyStatuses.NEW, swapOnlyStatuses.SENT, notificationStatuses.PENDING].includes(this.notice.swapStatus);\n    },\n    statusUpdater: function statusUpdater() {\n      var _this = this;\n\n      var updating = false;\n\n      var getStatus =\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee() {\n          var newStatus;\n          return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  if (updating) {\n                    _context.next = 10;\n                    break;\n                  }\n\n                  updating = true;\n                  _context.next = 4;\n                  return _this.provider.getOrderStatus(_this.notice.body, _this.network.type.name);\n\n                case 4:\n                  newStatus = _context.sent;\n\n                  if (!(typeof newStatus === 'undefined')) {\n                    _context.next = 7;\n                    break;\n                  }\n\n                  return _context.abrupt(\"return\");\n\n                case 7:\n                  if (_this.currentStatus !== newStatus) {\n                    _this.currentStatus = newStatus;\n\n                    if (swapOnlyStatuses[newStatus]) {\n                      _this.notice.swapStatus = newStatus;\n                    } else {\n                      _this.notice.swapStatus = newStatus;\n                      _this.notice.status = newStatus;\n                    }\n\n                    _this.childUpdateNotification(_this.notice);\n                  }\n\n                  if (!_this.shouldCheckStatus()) {\n                    clearInterval(_this.statusInterval);\n                  }\n\n                  updating = false;\n\n                case 10:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function getStatus() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      if (this.shouldCheckStatus()) {\n        getStatus();\n        this.statusInterval = setInterval(function () {\n          getStatus();\n\n          if (!_this.shouldCheckStatus()) {\n            clearInterval(_this.statusInterval);\n          }\n        }, 10000);\n      }\n    },\n    timeUpdater: function timeUpdater() {\n      var _this2 = this;\n\n      var updateTime = function updateTime() {\n        _this2.timeRemaining = _this2.notice.body.validFor - parseInt((new Date().getTime() - new Date(_this2.notice.body.createdAt).getTime()) / 1000);\n\n        if ((_this2.notice.swapStatus === swapOnlyStatuses.NEW || _this2.currentStatus === swapOnlyStatuses.NEW) && _this2.timeRemaining <= 0) {\n          _this2.notice.swapStatus = swapOnlyStatuses.CANCELLED;\n          _this2.notice.status = notificationStatuses.FAILED;\n          _this2.notice.body.errorMessage = 'Swap window timeout. Swap Cancelled.';\n          _this2.timeRemaining = -1;\n        }\n\n        _this2.notice.body.timeRemaining = +_this2.timeRemaining;\n\n        _this2.childUpdateNotification(_this2.notice);\n\n        if (+_this2.timeRemaining <= 0) {\n          clearInterval(_this2.timerInterval);\n        }\n      };\n\n      if (this.shouldCheckStatus() && this.notice.body.timeRemaining > 0) {\n        if (this.timeRemaining > 0) {\n          updateTime();\n          this.timerInterval = setInterval(function () {\n            updateTime();\n\n            if (_this2.timeRemaining <= 0) {\n              clearInterval(_this2.timerInterval);\n            }\n          }, 1000);\n        }\n      }\n    }\n  }\n};",{"version":3,"sources":["SwapDetails.vue"],"names":[],"mappings":"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","sourcesContent":["<template lang=\"html\">\n  <div>\n    <div class=\"notification-header\">{{ $t('header.swapDetail') }}</div>\n    <div class=\"notification-content\">\n      <ul>\n        <li>\n          <!-- Change to use provider logo-->\n          <p>{{ $t('header.provider') }}:</p>\n          <div class=\"detail-data\">\n            <p>\n              {{ details.provider }}\n            </p>\n          </div>\n        </li>\n        <li>\n          <ul>\n            <li>\n              <p class=\"icon from-swap-icon\">\n                <i :class=\"['cc', details.fromCurrency, 'cc-icon']\"></i>\n              </p>\n            </li>\n            <li>\n              <p class=\"from-swap-text\">\n                {{ details.fromValue }} {{ details.fromCurrency }}\n              </p>\n              <p v-if=\"!isFromOtherChain\" class=\"address\">\n                {{ details.from | concatAddress }}\n              </p>\n            </li>\n            <li>\n              <p class=\"swap-right-arrow\"><img :src=\"arrowImage\" alt /></p>\n            </li>\n            <li>\n              <p class=\"icon to-swap-icon\">\n                <i :class=\"['cc', details.toCurrency, 'cc-icon']\"></i>\n              </p>\n            </li>\n            <li>\n              <p class=\"to-swap-text\">\n                {{ details.toValue }} {{ details.toCurrency }}\n              </p>\n              <p class=\"address\">{{ details.to | concatAddress }}</p>\n            </li>\n          </ul>\n        </li>\n        <li>\n          <p>{{ $t('header.time') }}:</p>\n          <div class=\"time-date\">\n            <p>{{ timeString(notice) }}</p>\n            <p>{{ dateString(notice) }}</p>\n          </div>\n        </li>\n        <li\n          v-if=\"\n            notice.type === notificationType.SWAP_ORDER && timeRemaining > 0\n          \"\n        >\n          <p>{{ $t('header.timeRemaining') }}:</p>\n          <div class=\"detail-data\">\n            <p>{{ parseTimeRemaining }}</p>\n          </div>\n        </li>\n        <li class=\"notification-type-status\">\n          <p>{{ $t('header.status') }}:</p>\n          <div class=\"detail-data\">\n            <p :class=\"['status', txStatus.class]\">({{ txStatus.text }})</p>\n          </div>\n        </li>\n        <li v-if=\"isEthereum\">\n          <p>{{ $t('common.toAddress') }}:</p>\n          <div class=\"detail-data\">\n            <p>\n              <a\n                :href=\"addressLink(details.to, details.toCurrency)\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {{ details.to }}\n              </a>\n            </p>\n          </div>\n        </li>\n        <li v-if=\"isFromOtherChain\">\n          <p>\n            {{\n              $t('header.providerDepositAddress', {\n                provider: notice.body.provider\n              })\n            }}:\n          </p>\n          <div class=\"detail-data\">\n            <p>\n              <a\n                :href=\"\n                  addressLink(details.providerAddress, details.fromCurrency)\n                \"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                {{ details.providerAddress }}\n              </a>\n            </p>\n          </div>\n        </li>\n        <li v-if=\"showId && details.orderId\">\n          <p>\n            {{\n              $t('header.orderID', {\n                provider: notice.body.provider\n              })\n            }}:\n          </p>\n          <div class=\"detail-data\">\n            <p>\n              {{ details.orderId }}\n            </p>\n          </div>\n        </li>\n        <li v-if=\"notice.body.gasUsed && isEthereum\">\n          <p>{{ $t('common.txFee') }}:</p>\n          <div class=\"detail-data\">\n            <p>\n              {{ convertToEth(details.gasPrice * details.gasUsed) }} ETH (${{\n                getFiatValue(details.gasPrice * details.gasUsed)\n              }})\n            </p>\n          </div>\n        </li>\n        <li v-if=\"isEthereum\">\n          <p>{{ $t('header.maxTxFee') }}:</p>\n          <div class=\"detail-data\">\n            <p>\n              {{ convertToEth(details.gasPrice * details.gasLimit) }} ETH (${{\n                getFiatValue(details.gasPrice * details.gasLimit)\n              }})\n            </p>\n          </div>\n        </li>\n        <li v-if=\"isEthereum\">\n          <p>{{ $t('common.gasPrice') }}:</p>\n          <div class=\"detail-data\">\n            <p>{{ convertToGwei(details.gasPrice) }} Gwei</p>\n          </div>\n        </li>\n        <li v-if=\"isEthereum\">\n          <p>{{ $t('common.gasLimit') }}:</p>\n          <div class=\"detail-data\">\n            <p>{{ details.gasLimit }}</p>\n          </div>\n        </li>\n        <li v-if=\"notice.hash\">\n          <p>{{ $t('header.transactionHash') }}:</p>\n          <div class=\"detail-data\">\n            <p>\n              <a\n                :href=\"hashLink(notice.hash)\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                {{ notice.hash }}\n              </a>\n            </p>\n          </div>\n        </li>\n        <li v-if=\"isError\">\n          <p>{{ $t('header.errorMessage') }}:</p>\n          <div class=\"detail-data\">\n            <p>{{ errorMessage }}</p>\n          </div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\n\nimport '@/assets/images/currency/coins/asFont/cryptocoins.css';\nimport '@/assets/images/currency/coins/asFont/cryptocoins-colors.css';\nimport Arrow from '@/assets/images/etc/single-arrow.svg';\n\nimport { providerMap, providerNames, fiat, EthereumTokens } from '@/partners';\n\nimport {\n  swapOnlyStatuses,\n  notificationStatuses,\n  type as notificationType\n} from '@/helpers/notificationFormatters';\n\nexport default {\n  filters: {\n    concatAddress(value) {\n      if (!value) return '';\n      return `${value.substr(0, 7)}...${value.substr(value.length - 7)}`;\n    }\n  },\n  props: {\n    shown: {\n      type: Boolean,\n      default: false\n    },\n    notice: {\n      type: Object,\n      default: function() {\n        return {};\n      }\n    },\n    convertToGwei: {\n      type: Function,\n      default: function() {}\n    },\n    convertToEth: {\n      type: Function,\n      default: function() {}\n    },\n    getFiatValue: {\n      type: Function,\n      default: function() {}\n    },\n    dateString: {\n      type: Function,\n      default: function() {}\n    },\n    timeString: {\n      type: Function,\n      default: function() {}\n    },\n    errorMessageString: {\n      type: Function,\n      default: function() {}\n    },\n    hashLink: {\n      type: Function,\n      default: function() {}\n    },\n    addressLink: {\n      type: Function,\n      default: function() {}\n    },\n    processStatus: {\n      type: Function,\n      default: function() {}\n    },\n    childUpdateNotification: {\n      type: Function,\n      default: function() {}\n    }\n  },\n  data() {\n    return {\n      providerNames: providerNames,\n      timerInterval: null,\n      statusInterval: null,\n      arrowImage: Arrow,\n      timeRemaining: 0,\n      unreadCount: 0,\n      fiatCurrencies: fiat.map(entry => entry.symbol),\n      notificationType: notificationType\n    };\n  },\n  computed: {\n    ...mapState(['web3', 'network', 'notifications', 'wallet', 'gasPrice']),\n    errorMessage() {\n      return this.errorMessageString(this.notice);\n    },\n    isError() {\n      return this.notice.body.error;\n    },\n    details() {\n      return this.notice.body;\n    },\n    txStatus() {\n      return this.processStatus(this.notice.swapStatus);\n    },\n    parseTimeRemaining() {\n      const seconds = Math.floor(this.timeRemaining % 60);\n      const minutes = Math.floor((this.timeRemaining / 60) % 60);\n      return seconds >= 10 ? `${minutes}:${seconds}` : `${minutes}:0${seconds}`;\n    },\n    isEthereum() {\n      return EthereumTokens[this.notice.body.fromCurrency] !== undefined;\n    },\n    isToOtherChain() {\n      return EthereumTokens[this.notice.body.toCurrency] === undefined;\n    },\n    isFromOtherChain() {\n      return EthereumTokens[this.notice.body.fromCurrency] === undefined;\n    },\n    isFromFiat() {\n      return this.fiatCurrencies.includes(this.notice.body.fromCurrency);\n    },\n    showId() {\n      return (\n        this.notice.body.provider === providerNames.bity ||\n        this.notice.body.provider === providerNames.changelly\n      );\n    }\n  },\n  beforeDestroy() {\n    if (this.timerInterval !== null) {\n      clearInterval(this.timerInterval);\n    }\n\n    if (this.statusInterval !== null) {\n      clearInterval(this.statusInterval);\n    }\n  },\n  mounted() {\n    this.timeRemaining = this.notice.body.timeRemaining;\n    this.provider = providerMap.get(this.notice.body.provider);\n    this.currentStatus = this.notice.swapStatus;\n    this.timeUpdater();\n    this.statusUpdater();\n  },\n  methods: {\n    emitShowDetails() {\n      this.$emit('showDetails', ['swap', this.notice]);\n    },\n    shouldCheckStatus() {\n      return [\n        swapOnlyStatuses.NEW,\n        swapOnlyStatuses.SENT,\n        notificationStatuses.PENDING\n      ].includes(this.notice.swapStatus);\n    },\n    statusUpdater() {\n      let updating = false;\n      const getStatus = async () => {\n        if (!updating) {\n          updating = true;\n          const newStatus = await this.provider.getOrderStatus(\n            this.notice.body,\n            this.network.type.name\n          );\n          if (typeof newStatus === 'undefined') return;\n          if (this.currentStatus !== newStatus) {\n            this.currentStatus = newStatus;\n            if (swapOnlyStatuses[newStatus]) {\n              this.notice.swapStatus = newStatus;\n            } else {\n              this.notice.swapStatus = newStatus;\n              this.notice.status = newStatus;\n            }\n            this.childUpdateNotification(this.notice);\n          }\n\n          if (!this.shouldCheckStatus()) {\n            clearInterval(this.statusInterval);\n          }\n          updating = false;\n        }\n      };\n\n      if (this.shouldCheckStatus()) {\n        getStatus();\n        this.statusInterval = setInterval(() => {\n          getStatus();\n          if (!this.shouldCheckStatus()) {\n            clearInterval(this.statusInterval);\n          }\n        }, 10000);\n      }\n    },\n    timeUpdater() {\n      const updateTime = () => {\n        this.timeRemaining =\n          this.notice.body.validFor -\n          parseInt(\n            (new Date().getTime() -\n              new Date(this.notice.body.createdAt).getTime()) /\n              1000\n          );\n        if (\n          (this.notice.swapStatus === swapOnlyStatuses.NEW ||\n            this.currentStatus === swapOnlyStatuses.NEW) &&\n          this.timeRemaining <= 0\n        ) {\n          this.notice.swapStatus = swapOnlyStatuses.CANCELLED;\n          this.notice.status = notificationStatuses.FAILED;\n          this.notice.body.errorMessage =\n            'Swap window timeout. Swap Cancelled.';\n          this.timeRemaining = -1;\n        }\n        this.notice.body.timeRemaining = +this.timeRemaining;\n        this.childUpdateNotification(this.notice);\n        if (+this.timeRemaining <= 0) {\n          clearInterval(this.timerInterval);\n        }\n      };\n\n      if (this.shouldCheckStatus() && this.notice.body.timeRemaining > 0) {\n        if (this.timeRemaining > 0) {\n          updateTime();\n          this.timerInterval = setInterval(() => {\n            updateTime();\n            if (this.timeRemaining <= 0) {\n              clearInterval(this.timerInterval);\n            }\n          }, 1000);\n        }\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import 'SwapDetails';\n</style>\n"],"sourceRoot":"src/containers/NotificationsContainer/components/NotificationTypes/SwapDetails"}]}