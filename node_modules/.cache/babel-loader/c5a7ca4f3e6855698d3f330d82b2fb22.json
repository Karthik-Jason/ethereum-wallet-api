{"remainingRequest":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/thread-loader/dist/cjs.js!/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/babel-loader/lib/index.js!/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/eslint-loader/index.js??ref--13-0!/home/karthik/Desktop/myetherwallet/MyEtherWallet/src/wallets/software/web3wallet/index.js","dependencies":[{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/src/wallets/software/web3wallet/index.js","mtime":1573477612132},{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _classCallCheck from \"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _createClass from \"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport { WEB3_WALLET as web3WalletType } from \"../../bip44/walletTypes\";\nimport WalletInterface from '@/wallets/WalletInterface';\nimport Web3 from 'web3';\nimport { getBufferFromHex } from \"../../utils\";\nimport errorHandler from \"./errorHandler\";\n\nvar Web3Wallet =\n/*#__PURE__*/\nfunction (_WalletInterface) {\n  _inherits(Web3Wallet, _WalletInterface);\n\n  _createClass(Web3Wallet, null, [{\n    key: \"errorHandler\",\n    get: function get() {\n      return errorHandler;\n    }\n  }]);\n\n  function Web3Wallet(address) {\n    var _this;\n\n    _classCallCheck(this, Web3Wallet);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Web3Wallet).call(this, address, true, web3WalletType));\n    _this.errorHandler = errorHandler;\n\n    if (window.ethereum) {\n      _this.web3 = new Web3(window.ethereum);\n    } else {\n      _this.web3 = new Web3(window.web3.currentProvider);\n    }\n\n    if (!_this.web3) throw new Error('No Web3 instance found');\n    return _this;\n  }\n\n  _createClass(Web3Wallet, [{\n    key: \"signTransaction\",\n    value: function signTransaction(tx) {\n      tx.from = this.getAddressString();\n      return this.web3.eth.sendTransaction(tx);\n    }\n  }, {\n    key: \"signMessage\",\n    value: function signMessage(msg) {\n      var _this2 = this;\n\n      return new Promise(function (resolve) {\n        _this2.web3.eth.personal.sign(msg, _this2.getAddressString()).then(function (hex) {\n          resolve(getBufferFromHex(hex));\n        }).catch(errorHandler);\n      });\n    }\n  }]);\n\n  return Web3Wallet;\n}(WalletInterface);\n\nexport default Web3Wallet;",{"version":3,"sources":["/home/karthik/Desktop/myetherwallet/MyEtherWallet/src/wallets/software/web3wallet/index.js"],"names":["WEB3_WALLET","web3WalletType","WalletInterface","Web3","getBufferFromHex","errorHandler","Web3Wallet","address","window","ethereum","web3","currentProvider","Error","tx","from","getAddressString","eth","sendTransaction","msg","Promise","resolve","personal","sign","then","hex","catch"],"mappings":";;;;;AAAA,SAASA,WAAW,IAAIC,cAAxB;AACA,OAAOC,eAAP,MAA4B,2BAA5B;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,gBAAT;AACA,OAAOC,YAAP;;IAEMC,U;;;;;;;wBACsB;AACxB,aAAOD,YAAP;AACD;;;AACD,sBAAYE,OAAZ,EAAqB;AAAA;;AAAA;;AACnB,oFAAMA,OAAN,EAAe,IAAf,EAAqBN,cAArB;AACA,UAAKI,YAAL,GAAoBA,YAApB;;AACA,QAAIG,MAAM,CAACC,QAAX,EAAqB;AACnB,YAAKC,IAAL,GAAY,IAAIP,IAAJ,CAASK,MAAM,CAACC,QAAhB,CAAZ;AACD,KAFD,MAEO;AACL,YAAKC,IAAL,GAAY,IAAIP,IAAJ,CAASK,MAAM,CAACE,IAAP,CAAYC,eAArB,CAAZ;AACD;;AACD,QAAI,CAAC,MAAKD,IAAV,EAAgB,MAAM,IAAIE,KAAJ,CAAU,wBAAV,CAAN;AARG;AASpB;;;;oCACeC,E,EAAI;AAClBA,MAAAA,EAAE,CAACC,IAAH,GAAU,KAAKC,gBAAL,EAAV;AACA,aAAO,KAAKL,IAAL,CAAUM,GAAV,CAAcC,eAAd,CAA8BJ,EAA9B,CAAP;AACD;;;gCACWK,G,EAAK;AAAA;;AACf,aAAO,IAAIC,OAAJ,CAAY,UAAAC,OAAO,EAAI;AAC5B,QAAA,MAAI,CAACV,IAAL,CAAUM,GAAV,CAAcK,QAAd,CACGC,IADH,CACQJ,GADR,EACa,MAAI,CAACH,gBAAL,EADb,EAEGQ,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACXJ,UAAAA,OAAO,CAAChB,gBAAgB,CAACoB,GAAD,CAAjB,CAAP;AACD,SAJH,EAKGC,KALH,CAKSpB,YALT;AAMD,OAPM,CAAP;AAQD;;;;EA3BsBH,e;;AA6BzB,eAAeI,UAAf","sourcesContent":["import { WEB3_WALLET as web3WalletType } from '../../bip44/walletTypes';\nimport WalletInterface from '@/wallets/WalletInterface';\nimport Web3 from 'web3';\nimport { getBufferFromHex } from '../../utils';\nimport errorHandler from './errorHandler';\n\nclass Web3Wallet extends WalletInterface {\n  static get errorHandler() {\n    return errorHandler;\n  }\n  constructor(address) {\n    super(address, true, web3WalletType);\n    this.errorHandler = errorHandler;\n    if (window.ethereum) {\n      this.web3 = new Web3(window.ethereum);\n    } else {\n      this.web3 = new Web3(window.web3.currentProvider);\n    }\n    if (!this.web3) throw new Error('No Web3 instance found');\n  }\n  signTransaction(tx) {\n    tx.from = this.getAddressString();\n    return this.web3.eth.sendTransaction(tx);\n  }\n  signMessage(msg) {\n    return new Promise(resolve => {\n      this.web3.eth.personal\n        .sign(msg, this.getAddressString())\n        .then(hex => {\n          resolve(getBufferFromHex(hex));\n        })\n        .catch(errorHandler);\n    });\n  }\n}\nexport default Web3Wallet;\n"]}]}