{"remainingRequest":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/thread-loader/dist/cjs.js!/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/babel-loader/lib/index.js!/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/eslint-loader/index.js??ref--13-0!/home/karthik/Desktop/myetherwallet/MyEtherWallet/src/workers/wallet.worker.js","dependencies":[{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/src/workers/wallet.worker.js","mtime":1573477612152},{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/MyEtherWallet/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/web.dom.iterable\";\nimport Wallet from 'ethereumjs-wallet';\nimport ThirdPartyWallets from 'ethereumjs-wallet/thirdparty';\nWallet.ThirdParty = ThirdPartyWallets;\nvar Configs = {\n  kdf: 'scrypt',\n  n: 131072\n};\n\nvar fromMyEtherWalletV2 = function fromMyEtherWalletV2(json) {\n  if (json.privKey.length !== 64) {\n    throw new Error('Invalid private key length');\n  }\n\n  var privKey = new Buffer(json.privKey, 'hex');\n  return new Wallet(privKey);\n};\n\nvar getWalletFromPrivKeyFile = function getWalletFromPrivKeyFile(jsonfile, password) {\n  // filename hack for getting the file name once unlocked\n  var wallet;\n\n  if (jsonfile.encseed != null) {\n    wallet = Wallet.fromEthSale(jsonfile, password);\n    wallet.filename = wallet.getV3Filename();\n    return wallet;\n  } else if (jsonfile.Crypto != null || jsonfile.crypto != null) {\n    wallet = Wallet.fromV3(jsonfile, password, true);\n    wallet.filename = wallet.getV3Filename();\n    return wallet;\n  } else if (jsonfile.hash != null) {\n    wallet = Wallet.ThirdParty.fromEtherWallet(jsonfile, password);\n    wallet.filename = wallet.getV3Filename();\n    return wallet;\n  } else if (jsonfile.publisher == 'MyEtherWallet') {\n    wallet = fromMyEtherWalletV2(jsonfile);\n    wallet.filename = wallet.getV3Filename();\n    return wallet;\n  }\n\n  throw new Error('Invalid Wallet file');\n};\n\nvar createJsonWalletFromPrivateKey = function createJsonWalletFromPrivateKey(privateKey, password) {\n  var createdWallet = {};\n  var wallet = new Wallet.fromPrivateKey(Buffer.from(privateKey, 'hex'));\n  createdWallet.walletJson = wallet.toV3(password, {\n    kdf: Configs.kdf,\n    n: Configs.n\n  });\n  createdWallet.name = wallet.getV3Filename();\n  return createdWallet;\n};\n\nvar create = function create(password) {\n  var createdWallet = {};\n  var wallet = new Wallet.generate();\n  createdWallet.walletJson = wallet.toV3(password, {\n    kdf: Configs.kdf,\n    n: Configs.n\n  });\n  createdWallet.name = wallet.getV3Filename();\n  return createdWallet;\n};\n\nvar unlock = function unlock(file, password) {\n  var newFile = {}; // Small hack because non strict wasn't working..\n\n  Object.keys(file).forEach(function (key) {\n    newFile[key.toLowerCase()] = file[key];\n  });\n  return getWalletFromPrivKeyFile(newFile, password);\n}; // onmessage breaks tests as it is undefined\n\n\nif (!navigator.userAgent.includes('Node.js') && !navigator.userAgent.includes('jsdom')) {\n  onmessage = function onmessage(event) {\n    if (event.data.type === 'createWallet') {\n      var workerResult = create(event.data.data[0]);\n      postMessage(workerResult);\n    } else if (event.data.type === 'unlockWallet') {\n      var _workerResult = unlock(event.data.data[0], event.data.data[1]);\n\n      postMessage(_workerResult);\n    } else if (event.data.type === 'generateFromPrivateKey') {\n      var _workerResult2 = createJsonWalletFromPrivateKey(event.data.data[0], event.data.data[1]);\n\n      postMessage(_workerResult2);\n    }\n  };\n}",{"version":3,"sources":["/home/karthik/Desktop/myetherwallet/MyEtherWallet/src/workers/wallet.worker.js"],"names":["Wallet","ThirdPartyWallets","ThirdParty","Configs","kdf","n","fromMyEtherWalletV2","json","privKey","length","Error","Buffer","getWalletFromPrivKeyFile","jsonfile","password","wallet","encseed","fromEthSale","filename","getV3Filename","Crypto","crypto","fromV3","hash","fromEtherWallet","publisher","createJsonWalletFromPrivateKey","privateKey","createdWallet","fromPrivateKey","from","walletJson","toV3","name","create","generate","unlock","file","newFile","Object","keys","forEach","key","toLowerCase","navigator","userAgent","includes","onmessage","event","data","type","workerResult","postMessage"],"mappings":"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","sourcesContent":["import Wallet from 'ethereumjs-wallet';\nimport ThirdPartyWallets from 'ethereumjs-wallet/thirdparty';\nWallet.ThirdParty = ThirdPartyWallets;\nconst Configs = {\n  kdf: 'scrypt',\n  n: 131072\n};\nconst fromMyEtherWalletV2 = json => {\n  if (json.privKey.length !== 64) {\n    throw new Error('Invalid private key length');\n  }\n  const privKey = new Buffer(json.privKey, 'hex');\n  return new Wallet(privKey);\n};\nconst getWalletFromPrivKeyFile = (jsonfile, password) => {\n  // filename hack for getting the file name once unlocked\n  let wallet;\n  if (jsonfile.encseed != null) {\n    wallet = Wallet.fromEthSale(jsonfile, password);\n    wallet.filename = wallet.getV3Filename();\n    return wallet;\n  } else if (jsonfile.Crypto != null || jsonfile.crypto != null) {\n    wallet = Wallet.fromV3(jsonfile, password, true);\n    wallet.filename = wallet.getV3Filename();\n    return wallet;\n  } else if (jsonfile.hash != null) {\n    wallet = Wallet.ThirdParty.fromEtherWallet(jsonfile, password);\n    wallet.filename = wallet.getV3Filename();\n    return wallet;\n  } else if (jsonfile.publisher == 'MyEtherWallet') {\n    wallet = fromMyEtherWalletV2(jsonfile);\n    wallet.filename = wallet.getV3Filename();\n    return wallet;\n  }\n  throw new Error('Invalid Wallet file');\n};\n\nconst createJsonWalletFromPrivateKey = (privateKey, password) => {\n  const createdWallet = {};\n  const wallet = new Wallet.fromPrivateKey(Buffer.from(privateKey, 'hex'));\n  createdWallet.walletJson = wallet.toV3(password, {\n    kdf: Configs.kdf,\n    n: Configs.n\n  });\n  createdWallet.name = wallet.getV3Filename();\n  return createdWallet;\n};\n\nconst create = password => {\n  const createdWallet = {};\n  const wallet = new Wallet.generate();\n  createdWallet.walletJson = wallet.toV3(password, {\n    kdf: Configs.kdf,\n    n: Configs.n\n  });\n  createdWallet.name = wallet.getV3Filename();\n  return createdWallet;\n};\nconst unlock = (file, password) => {\n  const newFile = {};\n  // Small hack because non strict wasn't working..\n  Object.keys(file).forEach(key => {\n    newFile[key.toLowerCase()] = file[key];\n  });\n\n  return getWalletFromPrivKeyFile(newFile, password);\n};\n\n// onmessage breaks tests as it is undefined\nif (\n  !navigator.userAgent.includes('Node.js') &&\n  !navigator.userAgent.includes('jsdom')\n) {\n  onmessage = event => {\n    if (event.data.type === 'createWallet') {\n      const workerResult = create(event.data.data[0]);\n      postMessage(workerResult);\n    } else if (event.data.type === 'unlockWallet') {\n      const workerResult = unlock(event.data.data[0], event.data.data[1]);\n      postMessage(workerResult);\n    } else if (event.data.type === 'generateFromPrivateKey') {\n      const workerResult = createJsonWalletFromPrivateKey(\n        event.data.data[0],\n        event.data.data[1]\n      );\n      postMessage(workerResult);\n    }\n  };\n}\n"]}]}