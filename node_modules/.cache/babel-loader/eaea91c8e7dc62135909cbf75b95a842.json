{"remainingRequest":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/babel-loader/lib/index.js!/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/eslint-loader/index.js??ref--13-0!/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/src/partners/bity/bity-calls.js","dependencies":[{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/src/partners/bity/bity-calls.js","mtime":1573477612092},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport { post } from '@/helpers/httpRequests';\nimport { bityMethods } from \"./config\";\nimport { swapApiEndpoints } from \"../partnersConfig\";\nimport { utils } from \"../helpers\";\n\nfunction buildPath() {\n  return swapApiEndpoints.base + swapApiEndpoints.bity;\n}\n\nfunction cleanPhoneData(phoneNumber) {\n  var cleanedNumber = phoneNumber.replace(')', '').replace('.', '').replace(' ', '').replace('(', '').replace(',', '').replace('-', '');\n\n  if (cleanedNumber.slice(0, 1) !== '+') {\n    cleanedNumber = '+' + cleanedNumber;\n  }\n\n  return cleanedNumber;\n}\n\nvar getRates =\n/*#__PURE__*/\nfunction () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee() {\n    var results;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return post(buildPath(), utils.buildPayload(bityMethods.getCryptoRates));\n\n          case 3:\n            results = _context.sent;\n\n            if (!results.error) {\n              _context.next = 6;\n              break;\n            }\n\n            throw Error(results.error.message);\n\n          case 6:\n            return _context.abrupt(\"return\", results.result);\n\n          case 9:\n            _context.prev = 9;\n            _context.t0 = _context[\"catch\"](0);\n            utils.handleOrThrow(_context.t0);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 9]]);\n  }));\n\n  return function getRates() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getExitRates =\n/*#__PURE__*/\nfunction () {\n  var _ref2 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee2() {\n    var results;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return post(buildPath(), utils.buildPayload(bityMethods.getFiatRates));\n\n          case 3:\n            results = _context2.sent;\n\n            if (!results.error) {\n              _context2.next = 6;\n              break;\n            }\n\n            throw Error(results.error.message);\n\n          case 6:\n            return _context2.abrupt(\"return\", results.result);\n\n          case 9:\n            _context2.prev = 9;\n            _context2.t0 = _context2[\"catch\"](0);\n            utils.handleOrThrow(_context2.t0);\n\n          case 12:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 9]]);\n  }));\n\n  return function getExitRates() {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nvar getEstimate =\n/*#__PURE__*/\nfunction () {\n  var _ref3 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee3(orderInfo) {\n    var results;\n    return regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return post(buildPath(), utils.buildPayload(bityMethods.getEstimate, orderInfo));\n\n          case 3:\n            results = _context3.sent;\n\n            if (!results.error) {\n              _context3.next = 6;\n              break;\n            }\n\n            throw Error(results.error.message);\n\n          case 6:\n            return _context3.abrupt(\"return\", results.result);\n\n          case 9:\n            _context3.prev = 9;\n            _context3.t0 = _context3[\"catch\"](0);\n            utils.handleOrThrow(_context3.t0);\n\n          case 12:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 9]]);\n  }));\n\n  return function getEstimate(_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar createOrder =\n/*#__PURE__*/\nfunction () {\n  var _ref4 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee4(orderInfo) {\n    var results;\n    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            _context4.prev = 0;\n            _context4.next = 3;\n            return post(buildPath(), utils.buildPayload(bityMethods.createOrder, orderInfo));\n\n          case 3:\n            results = _context4.sent;\n\n            if (!results.error) {\n              _context4.next = 6;\n              break;\n            }\n\n            throw Error(results.error.message);\n\n          case 6:\n            return _context4.abrupt(\"return\", results.result);\n\n          case 9:\n            _context4.prev = 9;\n            _context4.t0 = _context4[\"catch\"](0);\n            utils.handleOrThrow(_context4.t0);\n\n          case 12:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[0, 9]]);\n  }));\n\n  return function createOrder(_x2) {\n    return _ref4.apply(this, arguments);\n  };\n}();\n\nvar openOrder =\n/*#__PURE__*/\nfunction () {\n  var _ref5 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee5(orderInfo) {\n    var results;\n    return regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            _context5.prev = 0;\n            _context5.next = 3;\n            return post(buildPath(), utils.buildPayload(bityMethods.createTransaction, orderInfo));\n\n          case 3:\n            results = _context5.sent;\n\n            if (!results.error) {\n              _context5.next = 6;\n              break;\n            }\n\n            throw Error(results.error.message);\n\n          case 6:\n            return _context5.abrupt(\"return\", results.result);\n\n          case 9:\n            _context5.prev = 9;\n            _context5.t0 = _context5[\"catch\"](0);\n            utils.handleOrThrow(_context5.t0);\n\n          case 12:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[0, 9]]);\n  }));\n\n  return function openOrder(_x3) {\n    return _ref5.apply(this, arguments);\n  };\n}();\n\nvar orderDetails =\n/*#__PURE__*/\nfunction () {\n  var _ref6 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee6(orderInfo) {\n    var results;\n    return regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            _context6.prev = 0;\n            _context6.next = 3;\n            return post(buildPath(), utils.buildPayload(bityMethods.orderDetails, orderInfo));\n\n          case 3:\n            results = _context6.sent;\n\n            if (!results.error) {\n              _context6.next = 6;\n              break;\n            }\n\n            throw Error(results.error.message);\n\n          case 6:\n            return _context6.abrupt(\"return\", results.result);\n\n          case 9:\n            _context6.prev = 9;\n            _context6.t0 = _context6[\"catch\"](0);\n            utils.handleOrThrow(_context6.t0);\n\n          case 12:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6, null, [[0, 9]]);\n  }));\n\n  return function orderDetails(_x4) {\n    return _ref6.apply(this, arguments);\n  };\n}();\n\nvar getStatus =\n/*#__PURE__*/\nfunction () {\n  var _ref7 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee7(orderInfo) {\n    var results;\n    return regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.prev = 0;\n            _context7.next = 3;\n            return post(buildPath(), utils.buildPayload(bityMethods.status, [orderInfo]));\n\n          case 3:\n            results = _context7.sent;\n\n            if (!results.error) {\n              _context7.next = 8;\n              break;\n            }\n\n            if (!(Object.keys(results.error.message).length === 0)) {\n              _context7.next = 7;\n              break;\n            }\n\n            return _context7.abrupt(\"return\");\n\n          case 7:\n            throw Error(results.error.message);\n\n          case 8:\n            return _context7.abrupt(\"return\", results.result);\n\n          case 11:\n            _context7.prev = 11;\n            _context7.t0 = _context7[\"catch\"](0);\n            utils.handleOrThrow(_context7.t0);\n\n          case 14:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7, null, [[0, 11]]);\n  }));\n\n  return function getStatus(_x5) {\n    return _ref7.apply(this, arguments);\n  };\n}();\n\nvar loginWithPhone =\n/*#__PURE__*/\nfunction () {\n  var _ref8 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee8(exitData) {\n    var results;\n    return regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.prev = 0;\n\n            if (!(exitData.phoneNumber.length <= 10)) {\n              _context8.next = 3;\n              break;\n            }\n\n            throw Error('Invalid phone number. Check country code');\n\n          case 3:\n            exitData.phoneNumber = cleanPhoneData(exitData.phoneNumber);\n            _context8.next = 6;\n            return post(buildPath(), utils.buildPayload(bityMethods.logInWithPhoneNumber, exitData));\n\n          case 6:\n            results = _context8.sent;\n\n            if (!results.error) {\n              _context8.next = 9;\n              break;\n            }\n\n            throw Error(results.error.message);\n\n          case 9:\n            return _context8.abrupt(\"return\", results.result);\n\n          case 12:\n            _context8.prev = 12;\n            _context8.t0 = _context8[\"catch\"](0);\n            utils.handleOrThrow(_context8.t0);\n\n          case 15:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8, null, [[0, 12]]);\n  }));\n\n  return function loginWithPhone(_x6) {\n    return _ref8.apply(this, arguments);\n  };\n}();\n\nvar sendReceivedSmsCode =\n/*#__PURE__*/\nfunction () {\n  var _ref9 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee9(exitData) {\n    var results;\n    return regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            _context9.prev = 0;\n            _context9.next = 3;\n            return post(buildPath(), utils.buildPayload(bityMethods.sendReceivedSmsCode, exitData));\n\n          case 3:\n            results = _context9.sent;\n\n            if (!results.error) {\n              _context9.next = 6;\n              break;\n            }\n\n            throw Error(results.error.message);\n\n          case 6:\n            return _context9.abrupt(\"return\", results.result);\n\n          case 9:\n            _context9.prev = 9;\n            _context9.t0 = _context9[\"catch\"](0);\n            utils.handleOrThrow(_context9.t0);\n\n          case 12:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9, null, [[0, 9]]);\n  }));\n\n  return function sendReceivedSmsCode(_x7) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n\nvar buildCyptoToFiatOrderData =\n/*#__PURE__*/\nfunction () {\n  var _ref10 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee10(orderData) {\n    var results;\n    return regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            _context10.prev = 0;\n            _context10.next = 3;\n            return post(buildPath(), utils.buildPayload(bityMethods.buildCyptoToFiatOrderData, orderData));\n\n          case 3:\n            results = _context10.sent;\n\n            if (!results.error) {\n              _context10.next = 6;\n              break;\n            }\n\n            throw Error(results.error.message);\n\n          case 6:\n            return _context10.abrupt(\"return\", results.result);\n\n          case 9:\n            _context10.prev = 9;\n            _context10.t0 = _context10[\"catch\"](0);\n            utils.handleOrThrow(_context10.t0);\n\n          case 12:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10, null, [[0, 9]]);\n  }));\n\n  return function buildCyptoToFiatOrderData(_x8) {\n    return _ref10.apply(this, arguments);\n  };\n}();\n\nvar getCyptoToFiatOrderDetails =\n/*#__PURE__*/\nfunction () {\n  var _ref11 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee11(detailsData) {\n    var results;\n    return regeneratorRuntime.wrap(function _callee11$(_context11) {\n      while (1) {\n        switch (_context11.prev = _context11.next) {\n          case 0:\n            _context11.prev = 0;\n            _context11.next = 3;\n            return post(buildPath(), utils.buildPayload(bityMethods.getExitOrderDetails, detailsData));\n\n          case 3:\n            results = _context11.sent;\n\n            if (!results.error) {\n              _context11.next = 6;\n              break;\n            }\n\n            throw Error(results.error.message);\n\n          case 6:\n            return _context11.abrupt(\"return\", results.result);\n\n          case 9:\n            _context11.prev = 9;\n            _context11.t0 = _context11[\"catch\"](0);\n            utils.handleOrThrow(_context11.t0);\n\n          case 12:\n          case \"end\":\n            return _context11.stop();\n        }\n      }\n    }, _callee11, null, [[0, 9]]);\n  }));\n\n  return function getCyptoToFiatOrderDetails(_x9) {\n    return _ref11.apply(this, arguments);\n  };\n}();\n\nvar getStatusFiat =\n/*#__PURE__*/\nfunction () {\n  var _ref12 = _asyncToGenerator(\n  /*#__PURE__*/\n  regeneratorRuntime.mark(function _callee12(orderInfo) {\n    var results;\n    return regeneratorRuntime.wrap(function _callee12$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            _context12.prev = 0;\n            _context12.next = 3;\n            return post(buildPath(), utils.buildPayload(bityMethods.orderDetails, {\n              orderId: orderInfo,\n              detailsUrl: orderInfo\n            }));\n\n          case 3:\n            results = _context12.sent;\n\n            if (!results.error) {\n              _context12.next = 6;\n              break;\n            }\n\n            throw Error(results.error.message);\n\n          case 6:\n            return _context12.abrupt(\"return\", results.result);\n\n          case 9:\n            _context12.prev = 9;\n            _context12.t0 = _context12[\"catch\"](0);\n            utils.handleOrThrow(_context12.t0);\n\n          case 12:\n          case \"end\":\n            return _context12.stop();\n        }\n      }\n    }, _callee12, null, [[0, 9]]);\n  }));\n\n  return function getStatusFiat(_x10) {\n    return _ref12.apply(this, arguments);\n  };\n}();\n\nexport { getEstimate, createOrder, orderDetails, getRates, getExitRates, openOrder, getStatus, loginWithPhone, sendReceivedSmsCode, buildCyptoToFiatOrderData, getCyptoToFiatOrderDetails, getStatusFiat };",{"version":3,"sources":["/home/karthik/Desktop/myetherwallet/ethereum-wallet-app/src/partners/bity/bity-calls.js"],"names":["post","bityMethods","swapApiEndpoints","utils","buildPath","base","bity","cleanPhoneData","phoneNumber","cleanedNumber","replace","slice","getRates","buildPayload","getCryptoRates","results","error","Error","message","result","handleOrThrow","getExitRates","getFiatRates","getEstimate","orderInfo","createOrder","openOrder","createTransaction","orderDetails","getStatus","status","Object","keys","length","loginWithPhone","exitData","logInWithPhoneNumber","sendReceivedSmsCode","buildCyptoToFiatOrderData","orderData","getCyptoToFiatOrderDetails","detailsData","getExitOrderDetails","getStatusFiat","orderId","detailsUrl"],"mappings":"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","sourcesContent":["import { post } from '@/helpers/httpRequests';\nimport { bityMethods } from './config';\nimport { swapApiEndpoints } from '../partnersConfig';\nimport { utils } from '../helpers';\n\nfunction buildPath() {\n  return swapApiEndpoints.base + swapApiEndpoints.bity;\n}\n\nfunction cleanPhoneData(phoneNumber) {\n  let cleanedNumber = phoneNumber\n    .replace(')', '')\n    .replace('.', '')\n    .replace(' ', '')\n    .replace('(', '')\n    .replace(',', '')\n    .replace('-', '');\n  if (cleanedNumber.slice(0, 1) !== '+') {\n    cleanedNumber = '+' + cleanedNumber;\n  }\n  return cleanedNumber;\n}\n\nconst getRates = async () => {\n  try {\n    const results = await post(\n      buildPath(),\n      utils.buildPayload(bityMethods.getCryptoRates)\n    );\n    if (results.error) {\n      throw Error(results.error.message);\n    }\n    return results.result;\n  } catch (e) {\n    utils.handleOrThrow(e);\n  }\n};\n\nconst getExitRates = async () => {\n  try {\n    const results = await post(\n      buildPath(),\n      utils.buildPayload(bityMethods.getFiatRates)\n    );\n    if (results.error) {\n      throw Error(results.error.message);\n    }\n    return results.result;\n  } catch (e) {\n    utils.handleOrThrow(e);\n  }\n};\n\nconst getEstimate = async orderInfo => {\n  try {\n    const results = await post(\n      buildPath(),\n      utils.buildPayload(bityMethods.getEstimate, orderInfo)\n    );\n    if (results.error) {\n      throw Error(results.error.message);\n    }\n    return results.result;\n  } catch (e) {\n    utils.handleOrThrow(e);\n  }\n};\n\nconst createOrder = async orderInfo => {\n  try {\n    const results = await post(\n      buildPath(),\n      utils.buildPayload(bityMethods.createOrder, orderInfo)\n    );\n    if (results.error) {\n      throw Error(results.error.message);\n    }\n\n    return results.result;\n  } catch (e) {\n    utils.handleOrThrow(e);\n  }\n};\n\nconst openOrder = async orderInfo => {\n  try {\n    const results = await post(\n      buildPath(),\n      utils.buildPayload(bityMethods.createTransaction, orderInfo)\n    );\n    if (results.error) {\n      throw Error(results.error.message);\n    }\n\n    return results.result;\n  } catch (e) {\n    utils.handleOrThrow(e);\n  }\n};\n\nconst orderDetails = async orderInfo => {\n  try {\n    const results = await post(\n      buildPath(),\n      utils.buildPayload(bityMethods.orderDetails, orderInfo)\n    );\n    if (results.error) {\n      throw Error(results.error.message);\n    }\n\n    return results.result;\n  } catch (e) {\n    utils.handleOrThrow(e);\n  }\n};\n\nconst getStatus = async orderInfo => {\n  try {\n    const results = await post(\n      buildPath(),\n      utils.buildPayload(bityMethods.status, [orderInfo])\n    );\n\n    if (results.error) {\n      if (Object.keys(results.error.message).length === 0) {\n        return;\n      }\n      throw Error(results.error.message);\n    }\n    return results.result;\n  } catch (e) {\n    utils.handleOrThrow(e);\n  }\n};\n\nconst loginWithPhone = async exitData => {\n  try {\n    if (exitData.phoneNumber.length <= 10) {\n      throw Error('Invalid phone number. Check country code');\n    }\n    exitData.phoneNumber = cleanPhoneData(exitData.phoneNumber);\n    const results = await post(\n      buildPath(),\n      utils.buildPayload(bityMethods.logInWithPhoneNumber, exitData)\n    );\n    if (results.error) {\n      throw Error(results.error.message);\n    }\n    return results.result;\n  } catch (e) {\n    utils.handleOrThrow(e);\n  }\n};\n\nconst sendReceivedSmsCode = async exitData => {\n  try {\n    const results = await post(\n      buildPath(),\n      utils.buildPayload(bityMethods.sendReceivedSmsCode, exitData)\n    );\n    if (results.error) {\n      throw Error(results.error.message);\n    }\n    return results.result;\n  } catch (e) {\n    utils.handleOrThrow(e);\n  }\n};\n\nconst buildCyptoToFiatOrderData = async orderData => {\n  try {\n    const results = await post(\n      buildPath(),\n      utils.buildPayload(bityMethods.buildCyptoToFiatOrderData, orderData)\n    );\n    if (results.error) {\n      throw Error(results.error.message);\n    }\n    return results.result;\n  } catch (e) {\n    utils.handleOrThrow(e);\n  }\n};\n\nconst getCyptoToFiatOrderDetails = async detailsData => {\n  try {\n    const results = await post(\n      buildPath(),\n      utils.buildPayload(bityMethods.getExitOrderDetails, detailsData)\n    );\n    if (results.error) {\n      throw Error(results.error.message);\n    }\n    return results.result;\n  } catch (e) {\n    utils.handleOrThrow(e);\n  }\n};\n\nconst getStatusFiat = async orderInfo => {\n  try {\n    const results = await post(\n      buildPath(),\n      utils.buildPayload(bityMethods.orderDetails, {\n        orderId: orderInfo,\n        detailsUrl: orderInfo\n      })\n    );\n    if (results.error) {\n      throw Error(results.error.message);\n    }\n    return results.result;\n  } catch (e) {\n    utils.handleOrThrow(e);\n  }\n};\n\nexport {\n  getEstimate,\n  createOrder,\n  orderDetails,\n  getRates,\n  getExitRates,\n  openOrder,\n  getStatus,\n  loginWithPhone,\n  sendReceivedSmsCode,\n  buildCyptoToFiatOrderData,\n  getCyptoToFiatOrderDetails,\n  getStatusFiat\n};\n"]}]}