(function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Multicall={})})(this,function(e){"use strict";var U=Math.ceil,L=String.fromCharCode,B=Math.floor;function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return t={exports:{}},e(t,t.exports),t.exports}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function n(e,t,r,o,n,i,a){try{var s=e[i](a),d=s.value}catch(e){return void r(e)}s.done?t(d):Promise.resolve(d).then(o,n)}function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(Y===setTimeout)return setTimeout(t,0);if((Y===i||!Y)&&setTimeout)return Y=setTimeout,setTimeout(t,0);try{return Y(t,0)}catch(r){try{return Y.call(null,t,0)}catch(r){return Y.call(this,t,0)}}}function d(t){if($===clearTimeout)return clearTimeout(t);if(($===a||!$)&&clearTimeout)return $=clearTimeout,clearTimeout(t);try{return $(t)}catch(r){try{return $.call(null,t)}catch(r){return $.call(this,t)}}}function l(){te&&Q&&(te=!1,Q.length?ee=Q.concat(ee):re=-1,ee.length&&p())}function p(){if(!te){var e=s(l);te=!0;for(var t=ee.length;t;){for(Q=ee,ee=[];++re<t;)Q&&Q[re].run();re=-1,t=ee.length}Q=null,te=!1,d(e)}}function u(e){var t=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];ee.push(new c(e,t)),1!==ee.length||te||s(p)}function c(e,t){this.fun=e,this.array=t}function h(){}function y(e){return e.replace(/^0x/,"")}function f(e,t){return Ht.encode(e,t)}function m(e,t){return Ht.decode(e,"0x"+t.replace(/0x/i,""))}function b(e){return Array.isArray(e)?0===e.length:!e||0===Object.keys(e).length}function v(){return w.apply(this,arguments)}function w(){return w=J(F.mark(function e(t,r){var o,n,i,a,s,d;return F.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.rpcUrl,n=r.block,i=r.multicallAddress,a="0x252dba42"+y(t),e.next=4,pe(o,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_call",params:[{to:i,data:a},n||"latest"],id:1})});case 4:return s=e.sent,e.next=7,s.json();case 7:if(d=e.sent,d&&d.result){e.next=10;break}throw new Error("Multicall received an empty response. Check your call configuration for errors.");case 10:return e.abrupt("return",d.result);case 11:case"end":return e.stop();}},e,this)})),w.apply(this,arguments)}function _(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":sr&&sr in Object(e)?or(e):ar(e)}function N(e){return!!cr&&cr in e}function x(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function E(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function A(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var o=e[t];this.set(o[0],o[1])}}function k(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var o=arguments,n=t?t.apply(this,o):o[0],i=r.cache;if(i.has(n))return i.get(n);var a=e.apply(this,o);return r.cache=i.set(n,a)||i,a};return r.cache=new(k.Cache||jr),r}function T(){return I.apply(this,arguments)}function I(){return I=J(F.mark(function e(t,r){var o,n,a,s,d,l,p,u,c,h,y,g,f;return F.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.isArray(t)?t:[t],o=t.reduce(function(e,t){var r=t.call,o=t.returns,n=W(r),i=n.slice(1);if(0<i.length){var a=!0,s=!1,d=void 0;try{for(var l,p=o[Symbol.iterator]();!(a=(l=p.next()).done);a=!0){var u=l.value,c=K(u,1),h=c[0];e[h]=i}}catch(e){s=!0,d=e}finally{try{a||null==p.return||p.return()}finally{if(s)throw d}}}return e},{}),t=t.map(function(e){var t=e.call,o=e.target,n=e.returns;o||(o=r.multicallAddress);var i=W(t),a=i[0],s=i.slice(1),d=a.match(Gr).map(function(e){return e.slice(1,-1)}),l=K(d,2),p=l[0],u=l[1],c=p.split(",").filter(function(t){return!!t});le(c.length===s.length,"Every method argument must have exactly one type.\n          Comparing argument types ".concat(JSON.stringify(c),"\n          to argument values ").concat(JSON.stringify(s),".\n        "));var h=s.map(function(e,t){return[e,c[t]]}),y=u?u.split(","):[];return{method:a.match(zr)[0],args:h,returnTypes:y,target:o,returns:n}}),n=Vr(t,!1),e.next=6,v(n,r);case 6:for(a=e.sent,s=t.map(function(e){var t=e.returnTypes;return t}).reduce(function(e,t){return e.concat(t)},[]),d=t.map(function(e){var t=e.returns;return t}).reduce(function(e,t){return e.concat(t)},[]),le(s.length===d.length,"Missing data needed to parse results"),l=m(["uint256","bytes[]"],a),p=l.shift(),u=l.reduce(function(e,o){return o.forEach(function(r,o){var n=t[o].returnTypes,i=m(n,r);e.push.apply(e,V(i.map(function(e,t){return"bool"===n[t]?"true"===e.toString():e})))}),e},[]),c={blockNumber:p},h=0;h<u.length;h++)y=K(d[h],2),g=y[0],f=y[1],c[g]=void 0===f?u[h]:f(u[h]);return e.abrupt("return",{results:c,keyToArgMap:o});case 16:case"end":return e.stop();}},e,this)})),I.apply(this,arguments)}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e,t,r){return r[e]===void 0||r[e].toString()!==t.toString()}function M(e){var t=Hr({},e);if(t.preset!==void 0)if(void 0!==Kr[t.preset])t.multicallAddress=Kr[t.preset].multicall,t.rpcUrl=Kr[t.preset].rpcUrl;else throw new Error("Unknown preset ".concat(t.preset));return t}var O="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window,P=r(function(e){!function(t){function r(e,t,r,o){var i=t&&t.prototype instanceof n?t:n,a=Object.create(i.prototype),s=new h(o||[]);return a._invoke=l(e,r,s),a}function o(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function n(){}function i(){}function a(){}function s(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function d(e){function t(r,n,i,a){var s=o(e[r],e,n);if("throw"===s.type)a(s.arg);else{var d=s.arg,l=d.value;return l&&"object"==typeof l&&m.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(l).then(function(e){d.value=e,i(d)},function(e){return t("throw",e,i,a)})}}function r(e,r){function o(){return new Promise(function(o,n){t(e,r,o,n)})}return n=n?n.then(o,o):o()}var n;this._invoke=r}function l(e,t,r){var n="suspendedStart";return function(i,a){if(n==="executing")throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return g()}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var d=p(s,r);if(d){if(d===x)continue;return d}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=o(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===x)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function p(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,p(e,t),"throw"===t.method))return x;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return x}var n=o(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,x;var i=n.arg;if(!i)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,x;if(i.done)t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0);else return i;return t.delegate=null,x}function u(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function c(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(u,this),this.reset(!0)}function y(e){if(e){var t=e[v];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(m.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:g}}function g(){return{value:void 0,done:!0}}var f=Object.prototype,m=f.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},v=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",_=b.toStringTag||"@@toStringTag",N=t.regeneratorRuntime;if(N)return void(e.exports=N);N=t.regeneratorRuntime=e.exports,N.wrap=r;var x={},E={};E[v]=function(){return this};var A=Object.getPrototypeOf,k=A&&A(A(y([])));k&&k!==f&&m.call(k,v)&&(E=k);var T=a.prototype=n.prototype=Object.create(E);i.prototype=T.constructor=a,a.constructor=i,a[_]=i.displayName="GeneratorFunction",N.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===i||"GeneratorFunction"===(t.displayName||t.name))},N.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):(e.__proto__=a,!(_ in e)&&(e[_]="GeneratorFunction")),e.prototype=Object.create(T),e},N.awrap=function(e){return{__await:e}},s(d.prototype),d.prototype[w]=function(){return this},N.AsyncIterator=d,N.async=function(e,t,o,n){var i=new d(r(e,t,o,n));return N.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},s(T),T[_]="Generator",T[v]=function(){return this},T.toString=function(){return"[object Generator]"},N.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var o=t.pop();if(o in e)return r.value=o,r.done=!1,r}return r.done=!0,r}},N.values=y,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(c),!e)for(var t in this)"t"===t.charAt(0)&&m.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,o){return a.type="throw",a.arg=e,r.next=t,o&&(r.method="next",r.arg=void 0),!!o}if(this.done)throw e;for(var r=this,o=this.tryEntries.length-1;0<=o;--o){var n=this.tryEntries[o],a=n.completion;if("root"===n.tryLoc)return t("end");if(n.tryLoc<=this.prev){var s=m.call(n,"catchLoc"),d=m.call(n,"finallyLoc");if(s&&d){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);if(this.prev<n.finallyLoc)return t(n.finallyLoc)}else if(s){if(this.prev<n.catchLoc)return t(n.catchLoc,!0);}else if(!d)throw new Error("try statement without catch or finally");else if(this.prev<n.finallyLoc)return t(n.finallyLoc)}}},abrupt:function(e,t){for(var r,o=this.tryEntries.length-1;0<=o;--o)if(r=this.tryEntries[o],r.tryLoc<=this.prev&&m.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var n=r;break}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var a=n?n.completion:{};return a.type=e,a.arg=t,n?(this.method="next",this.next=n.finallyLoc,x):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),x},finish:function(e){for(var t,r=this.tryEntries.length-1;0<=r;--r)if(t=this.tryEntries[r],t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),c(t),x},catch:function(e){for(var t,r=this.tryEntries.length-1;0<=r;--r)if(t=this.tryEntries[r],t.tryLoc===e){var o=t.completion;if("throw"===o.type){var n=o.arg;c(t)}return n}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:y(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),x}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())}),C=function(){return this||"object"==typeof self&&self}()||Function("return this")(),g=C.regeneratorRuntime&&0<=Object.getOwnPropertyNames(C).indexOf("regeneratorRuntime"),D=g&&C.regeneratorRuntime;C.regeneratorRuntime=void 0;if(g)C.regeneratorRuntime=D;else try{delete C.regeneratorRuntime}catch(t){C.regeneratorRuntime=void 0}var F=P,j=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}},G=o,z=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")},V=function(e){return j(e)||G(e)||z()},Z=function(e){if(Array.isArray(e))return e},q=function(e,t){var r=[],o=!0,n=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done)&&(r.push(a.value),!(t&&r.length===t));o=!0);}catch(e){n=!0,i=e}finally{try{o||null==s["return"]||s["return"]()}finally{if(n)throw i}}return r},H=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")},K=function(e,t){return Z(e)||q(e,t)||H()},W=function(e){return Z(e)||G(e)||H()},J=function(e){return function(){var t=this,r=arguments;return new Promise(function(o,i){function a(e){n(d,o,i,a,s,"next",e)}function s(e){n(d,o,i,a,s,"throw",e)}var d=e.apply(t,r);a(void 0)})}},X="undefined"==typeof global?"undefined"==typeof self?"undefined"==typeof window?{}:window:self:global,Y=i,$=a;"function"==typeof X.setTimeout&&(Y=setTimeout),"function"==typeof X.clearTimeout&&($=clearTimeout);var Q,ee=[],te=!1,re=-1;c.prototype.run=function(){this.fun.apply(null,this.array)};var oe=X.performance||{},ne=oe.now||oe.mozNow||oe.msNow||oe.oNow||oe.webkitNow||function(){return new Date().getTime()},ie=new Date,ae={nextTick:u,title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:h,addListener:h,once:h,off:h,removeListener:h,removeAllListeners:h,emit:h,binding:function(){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=1e-3*ne.call(oe),r=B(t),o=B(1e9*(t%1));return e&&(r-=e[0],o-=e[1],0>o&&(r--,o+=1e9)),[r,o]},platform:"browser",release:{},config:{},uptime:function(){var e=new Date;return(e-ie)/1e3}},se=r(function(e){/**
	 * [js-sha3]{@link https://github.com/emn178/js-sha3}
	 *
	 * @version 0.8.0
	 * @author Chen, Yi-Cyuan [emn178@gmail.com]
	 * @copyright Chen, Yi-Cyuan 2015-2018
	 * @license MIT
	 */(function(){function t(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var o=0;50>o;++o)this.s[o]=0}function r(e,r,o){t.call(this,e,r,o)}var o="object"==typeof window,n=o?window:{};n.JS_SHA3_NO_WINDOW&&(o=!1);var a=!o&&"object"==typeof self,s=!n.JS_SHA3_NO_NODE_JS&&"object"==typeof ae&&ae.versions&&ae.versions.node;s?n=O:a&&(n=self);var d=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,l=!n.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],u=[31,7936,2031616,520093696],c=[4,1024,262144,67108864],h=[1,256,65536,16777216],y=[6,1536,393216,100663296],g=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=[224,256,384,512],v=[128,256],w=["hex","buffer","arrayBuffer","array","digest"],_={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),l&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var N=function(e,r,o){return function(n){return new t(e,r,e).update(n)[o]()}},x=function(e,r,o){return function(n,i){return new t(e,r,i).update(n)[o]()}},E=function(e,t,r){return function(t,o,i,n){return U["cshake"+e].update(t,o,i,n)[r]()}},A=function(e,t,r){return function(t,o,n,i){return U["kmac"+e].update(t,o,n,i)[r]()}},k=function(e,t,r,o){for(var n,a=0;a<w.length;++a)n=w[a],e[n]=t(r,o,n);return e},T=function(e,r){var o=N(e,r,"hex");return o.create=function(){return new t(e,r,e)},o.update=function(e){return o.create().update(e)},k(o,N,e,r)},I=function(e,r){var o=x(e,r,"hex");return o.create=function(o){return new t(e,r,o)},o.update=function(e,t){return o.create(t).update(e)},k(o,x,e,r)},S=function(e,r){var o=_[e],i=E(e,r,"hex");return i.create=function(i,a,n){return a||n?new t(e,r,i).bytepad([a,n],o):U["shake"+e].create(i)},i.update=function(e,t,r,o){return i.create(t,r,o).update(e)},k(i,E,e,r)},R=function(e,t){var o=_[e],n=A(e,t,"hex");return n.create=function(n,i,a){return new r(e,t,i).bytepad(["KMAC",a],o).bytepad([n],o)},n.update=function(e,t,r,o){return n.create(e,r,o).update(t)},k(n,A,e,t)},M=[{name:"keccak",padding:h,bits:b,createMethod:T},{name:"sha3",padding:y,bits:b,createMethod:T},{name:"shake",padding:u,bits:v,createMethod:I},{name:"cshake",padding:c,bits:v,createMethod:S},{name:"kmac",padding:c,bits:v,createMethod:R}],U={},L=[],B=0;B<M.length;++B)for(var P,C=M[B],D=C.bits,F=0;F<D.length;++F)if(P=C.name+"_"+D[F],L.push(P),U[P]=C.createMethod(D[F],C.padding),"sha3"!==C.name){var G=C.name+D[F];L.push(G),U[G]=U[P]}t.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!=r){if(!("object"==r))throw new Error("input is invalid type");else if(null===e)throw new Error("input is invalid type");else if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error("input is invalid type");t=!0}for(var o,n,a=this.blocks,d=this.byteCount,p=e.length,u=this.blockCount,c=0,h=this.s;c<p;){if(this.reset)for(this.reset=!1,a[0]=this.block,o=1;o<u+1;++o)a[o]=0;if(t)for(o=this.start;c<p&&o<d;++c)a[o>>2]|=e[c]<<g[3&o++];else for(o=this.start;c<p&&o<d;++c)n=e.charCodeAt(c),128>n?a[o>>2]|=n<<g[3&o++]:2048>n?(a[o>>2]|=(192|n>>6)<<g[3&o++],a[o>>2]|=(128|63&n)<<g[3&o++]):55296>n||57344<=n?(a[o>>2]|=(224|n>>12)<<g[3&o++],a[o>>2]|=(128|63&n>>6)<<g[3&o++],a[o>>2]|=(128|63&n)<<g[3&o++]):(n=65536+((1023&n)<<10|1023&e.charCodeAt(++c)),a[o>>2]|=(240|n>>18)<<g[3&o++],a[o>>2]|=(128|63&n>>12)<<g[3&o++],a[o>>2]|=(128|63&n>>6)<<g[3&o++],a[o>>2]|=(128|63&n)<<g[3&o++]);if(this.lastByteIndex=o,o>=d){for(this.start=o-d,this.block=a[u],o=0;o<u;++o)h[o]^=a[o];z(h),this.reset=!0}else this.start=o}return this},t.prototype.encode=function(e,t){var r=255&e,i=1,a=[r];for(e>>=8,r=255&e;0<r;)a.unshift(r),e>>=8,r=255&e,++i;return t?a.push(i):a.unshift(i),this.update(a),a.length},t.prototype.encodeString=function(e){var t,r=typeof e;if("string"!=r){if("object"!=r)throw new Error("input is invalid type");else if(null===e)throw new Error("input is invalid type");else if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error("input is invalid type");t=!0}var o=0,n=e.length;if(t)o=n;else for(var a,s=0;s<e.length;++s)a=e.charCodeAt(s),128>a?o+=1:2048>a?o+=2:55296>a||57344<=a?o+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),o+=4);return o+=this.encode(8*o),this.update(e),o},t.prototype.bytepad=function(e,t){for(var r=this.encode(t),o=0;o<e.length;++o)r+=this.encodeString(e[o]);var n=t-r%t,a=[];return a.length=n,this.update(a),this},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,o=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)o[t]^=e[t];z(o)}},t.prototype.toString=t.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,o=this.outputBlocks,n=this.extraBytes,a=0,s=0,d="";s<o;){for(a=0;a<t&&s<o;++a,++s)e=r[a],d+=p[15&e>>4]+p[15&e]+p[15&e>>12]+p[15&e>>8]+p[15&e>>20]+p[15&e>>16]+p[15&e>>28]+p[15&e>>24];0==s%t&&(z(r),a=0)}return n&&(e=r[a],d+=p[15&e>>4]+p[15&e],1<n&&(d+=p[15&e>>12]+p[15&e>>8]),2<n&&(d+=p[15&e>>20]+p[15&e>>16])),d},t.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,o=this.outputBlocks,n=this.extraBytes,a=0,s=0,d=this.outputBits>>3;e=n?new ArrayBuffer(o+1<<2):new ArrayBuffer(d);for(var l=new Uint32Array(e);s<o;){for(a=0;a<t&&s<o;++a,++s)l[s]=r[a];0==s%t&&z(r)}return n&&(l[a]=r[a],e=e.slice(0,d)),e},t.prototype.buffer=t.prototype.arrayBuffer,t.prototype.digest=t.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,o=this.s,n=this.outputBlocks,a=this.extraBytes,s=0,d=0,l=[];d<n;){for(s=0;s<r&&d<n;++s,++d)e=d<<2,t=o[s],l[e]=255&t,l[e+1]=255&t>>8,l[e+2]=255&t>>16,l[e+3]=255&t>>24;0==d%r&&z(o)}return a&&(e=d<<2,t=o[s],l[e]=255&t,1<a&&(l[e+1]=255&t>>8),2<a&&(l[e+2]=255&t>>16)),l},r.prototype=new t,r.prototype.finalize=function(){return this.encode(this.outputBits,!0),t.prototype.finalize.call(this)};var z=function(e){var t,r,o,i,a,s,d,p,u,c,y,g,f,b,v,w,_,N,x,E,A,k,T,I,S,R,M,U,L,B,O,P,C,D,F,j,G,z,V,Z,q,H,K,W,J,X,Y,$,Q,ee,te,re,oe,ne,ie,ae,se,de,le,pe,ue,ce,he;for(o=0;48>o;o+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],d=e[3]^e[13]^e[23]^e[33]^e[43],p=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],y=e[7]^e[17]^e[27]^e[37]^e[47],g=e[8]^e[18]^e[28]^e[38]^e[48],f=e[9]^e[19]^e[29]^e[39]^e[49],t=g^(s<<1|d>>>31),r=f^(d<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(p<<1|u>>>31),r=a^(u<<1|p>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(c<<1|y>>>31),r=d^(y<<1|c>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=p^(g<<1|f>>>31),r=u^(f<<1|g>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=c^(i<<1|a>>>31),r=y^(a<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,b=e[0],v=e[1],X=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,U=e[20]<<3|e[21]>>>29,L=e[21]<<3|e[20]>>>29,pe=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,K=e[41]<<18|e[40]>>>14,D=e[2]<<1|e[3]>>>31,F=e[3]<<1|e[2]>>>31,w=e[13]<<12|e[12]>>>20,_=e[12]<<12|e[13]>>>20,$=e[22]<<10|e[23]>>>22,Q=e[23]<<10|e[22]>>>22,B=e[33]<<13|e[32]>>>19,O=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,ne=e[5]<<30|e[4]>>>2,ie=e[4]<<30|e[5]>>>2,j=e[14]<<6|e[15]>>>26,G=e[15]<<6|e[14]>>>26,N=e[25]<<11|e[24]>>>21,x=e[24]<<11|e[25]>>>21,ee=e[34]<<15|e[35]>>>17,te=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,C=e[44]<<29|e[45]>>>3,I=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,ae=e[17]<<23|e[16]>>>9,se=e[16]<<23|e[17]>>>9,z=e[26]<<25|e[27]>>>7,V=e[27]<<25|e[26]>>>7,E=e[36]<<21|e[37]>>>11,A=e[37]<<21|e[36]>>>11,re=e[47]<<24|e[46]>>>8,oe=e[46]<<24|e[47]>>>8,W=e[8]<<27|e[9]>>>5,J=e[9]<<27|e[8]>>>5,R=e[18]<<20|e[19]>>>12,M=e[19]<<20|e[18]>>>12,de=e[29]<<7|e[28]>>>25,le=e[28]<<7|e[29]>>>25,Z=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,T=e[49]<<14|e[48]>>>18,e[0]=b^~w&N,e[1]=v^~_&x,e[10]=I^~R&U,e[11]=S^~M&L,e[20]=D^~j&z,e[21]=F^~G&V,e[30]=W^~X&$,e[31]=J^~Y&Q,e[40]=ne^~ae&de,e[41]=ie^~se&le,e[2]=w^~N&E,e[3]=_^~x&A,e[12]=R^~U&B,e[13]=M^~L&O,e[22]=j^~z&Z,e[23]=G^~V&q,e[32]=X^~$&ee,e[33]=Y^~Q&te,e[42]=ae^~de&pe,e[43]=se^~le&ue,e[4]=N^~E&k,e[5]=x^~A&T,e[14]=U^~B&P,e[15]=L^~O&C,e[24]=z^~Z&H,e[25]=V^~q&K,e[34]=$^~ee&re,e[35]=Q^~te&oe,e[44]=de^~pe&ce,e[45]=le^~ue&he,e[6]=E^~k&b,e[7]=A^~T&v,e[16]=B^~P&I,e[17]=O^~C&S,e[26]=Z^~H&D,e[27]=q^~K&F,e[36]=ee^~re&W,e[37]=te^~oe&J,e[46]=pe^~ce&ne,e[47]=ue^~he&ie,e[8]=k^~b&w,e[9]=T^~v&_,e[18]=P^~I&R,e[19]=C^~S&M,e[28]=H^~D&j,e[29]=K^~F&G,e[38]=re^~W&X,e[39]=oe^~J&Y,e[48]=ce^~ne&ae,e[49]=he^~ie&se,e[0]^=m[o],e[1]^=m[o+1]};if(d)e.exports=U;else for(B=0;B<L.length;++B)n[L[B]]=U[L[B]]})()}),de=se.keccak256,le=function(t,r,o,n,i,a,s,e){if("production"!==ae.env.NODE_ENV&&void 0===r)throw new Error("invariant requires an error message argument");if(!t){var d;if(void 0===r)d=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[o,n,i,a,s,e],p=0;d=new Error(r.replace(/%s/g,function(){return l[p++]})),d.name="Invariant Violation"}throw d.framesToPop=1,d}},pe=r(function(e,t){var r=function(e){function t(){this.fetch=!1}return t.prototype=e,new t}("undefined"==typeof self?O:self);(function(e){(function(t){function r(e){return e&&DataView.prototype.isPrototypeOf(e)}function o(e){if("string"!=typeof e&&(e+=""),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e+=""),e}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return w.iterable&&(t[Symbol.iterator]=function(){return t}),t}function a(e){this.map={},e instanceof a?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function s(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function d(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function l(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function p(e){var t=new FileReader,r=d(t);return t.readAsText(e),r}function u(e){for(var t=new Uint8Array(e),r=Array(t.length),o=0;o<t.length;o++)r[o]=L(t[o]);return r.join("")}function c(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function h(){return this.bodyUsed=!1,this._initBody=function(e){this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:w.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:w.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:w.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():w.arrayBuffer&&w.blob&&r(e)?(this._bodyArrayBuffer=c(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):w.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||N(e))?this._bodyArrayBuffer=c(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):w.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},w.blob&&(this.blob=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?s(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(l)}),this.text=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");else return Promise.resolve(this._bodyText)},w.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function y(e){var t=e.toUpperCase();return-1<x.indexOf(t)?t:e}function g(e,t){t=t||{};var r=t.body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new a(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=e+"";if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new a(t.headers)),this.method=y(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(o),decodeURIComponent(n))}}),t}function m(e){var t=new a,r=e.replace(/\r?\n[\t ]+/g," ");return r.split(/\r?\n/).forEach(function(e){var r=e.split(":"),o=r.shift().trim();if(o){var n=r.join(":").trim();t.append(o,n)}}),t}function b(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=200<=this.status&&300>this.status,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new a(t.headers),this.url=t.url||"",this._initBody(e)}function v(e,r){return new Promise(function(o,n){function i(){s.abort()}var a=new g(e,r);if(a.signal&&a.signal.aborted)return n(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;s.onload=function(){var e={status:s.status,statusText:s.statusText,headers:m(s.getAllResponseHeaders()||"")};e.url="responseURL"in s?s.responseURL:e.headers.get("X-Request-URL");var t="response"in s?s.response:s.responseText;o(new b(t,e))},s.onerror=function(){n(new TypeError("Network request failed"))},s.ontimeout=function(){n(new TypeError("Network request failed"))},s.onabort=function(){n(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&w.blob&&(s.responseType="blob"),a.headers.forEach(function(e,t){s.setRequestHeader(t,e)}),a.signal&&(a.signal.addEventListener("abort",i),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",i)}),s.send("undefined"==typeof a._bodyInit?null:a._bodyInit)})}var w={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(w.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],N=ArrayBuffer.isView||function(e){return e&&-1<_.indexOf(Object.prototype.toString.call(e))};a.prototype.append=function(e,t){e=o(e),t=n(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},a.prototype["delete"]=function(e){delete this.map[o(e)]},a.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},a.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},a.prototype.set=function(e,t){this.map[o(e)]=n(t)},a.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},a.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),i(e)},a.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},a.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),i(e)},w.iterable&&(a.prototype[Symbol.iterator]=a.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},h.call(g.prototype),h.call(b.prototype),b.prototype.clone=function(){return new b(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new a(this.headers),url:this.url})},b.error=function(){var e=new b(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];b.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new b(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}return v.polyfill=!0,e.fetch||(e.fetch=v,e.Headers=a,e.Request=g,e.Response=b),t.Headers=a,t.Request=g,t.Response=b,t.fetch=v,t})({})})(r),delete r.fetch.polyfill,t=r.fetch,t.default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t}),ue=pe.fetch,ce=pe.Headers,he=pe.Request,ye=pe.Response,ge={},fe=r(function(e){(function(e,t){var w=Math.imul,_=Math.clz32,x=Math.max,E=Math.min;function o(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function d(e,t,r){return d.isBN(e)?e:void(this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===t||"be"===t)&&(r=t,t=10),this._init(e||0,t||10,r||"be")))}function r(e,t,o){for(var n,a=0,s=E(e.length,o),d=t;d<s;d++)n=e.charCodeAt(d)-48,a<<=4,a|=49<=n&&54>=n?n-49+10:17<=n&&22>=n?n-17+10:15&n;return a}function a(e,t,o,n){for(var a,s=0,d=E(e.length,o),l=t;l<d;l++)a=e.charCodeAt(l)-48,s*=n,s+=49<=a?a-49+10:17<=a?a-17+10:a;return s}function s(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var o=0|r/26,n=r%26;t[r]=(e.words[o]&1<<n)>>>n}return t}function l(e,t,o){o.negative=t.negative^e.negative;var n=0|e.length+t.length;o.length=n,n=0|n-1;var s=0|e.words[0],d=0|t.words[0],l=s*d,p=67108863&l,u=0|l/67108864;o.words[0]=p;for(var c=1;c<n;c++){for(var h,y=u>>>26,g=67108863&u,f=E(c,t.length-1),m=x(0,c-e.length+1);m<=f;m++)h=0|c-m,s=0|e.words[h],d=0|t.words[m],l=s*d+g,y+=0|l/67108864,g=67108863&l;o.words[c]=0|g,u=0|y}return 0===u?o.length--:o.words[c]=0|u,o.strip()}function p(e,t,o){o.negative=t.negative^e.negative,o.length=e.length+t.length;for(var n,s=0,d=0,l=0;l<o.length-1;l++){n=d,d=0;for(var p=67108863&s,u=E(l,t.length-1),c=x(0,l-e.length+1);c<=u;c++){var h=l-c,i=0|e.words[h],a=0|t.words[c],y=i*a,r=67108863&y;n=0|n+(0|y/67108864),r=0|r+p,p=67108863&r,n=0|n+(r>>>26),d+=n>>>26,n&=67108863}o.words[l]=p,s=n,n=d}return 0===s?o.length--:o.words[l]=s,o.strip()}function u(e,t,r){var o=new c;return o.mulp(e,t,r)}function c(e,t){this.x=e,this.y=t}function h(e,t){this.name=e,this.p=new d(t,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){h.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function g(){h.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function f(){h.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function m(){h.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function b(e){if("string"==typeof e){var t=d._prime(e);this.m=t.p,this.prime=t}else o(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function v(e){b.call(this,e),this.shift=this.m.bitLength(),0!=this.shift%26&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof e?e.exports=d:t.BN=d,d.BN=d,d.wordSize=26;var A;try{A=ge.Buffer}catch(t){}d.isBN=function(e){return!!(e instanceof d)||null!==e&&"object"==typeof e&&e.constructor.wordSize===d.wordSize&&Array.isArray(e.words)},d.max=function(e,t){return 0<e.cmp(t)?e:t},d.min=function(e,t){return 0>e.cmp(t)?e:t},d.prototype._init=function(e,t,r){if("number"==typeof e)return this._initNumber(e,t,r);if("object"==typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),o(t===(0|t)&&2<=t&&36>=t),e=e.toString().replace(/\s+/g,"");var n=0;"-"===e[0]&&n++,16===t?this._parseHex(e,n):this._parseBase(e,t,n),"-"===e[0]&&(this.negative=1),this.strip();"le"!==r||this._initArray(this.toArray(),t,r)},d.prototype._initNumber=function(e,t,r){0>e&&(this.negative=1,e=-e),67108864>e?(this.words=[67108863&e],this.length=1):4503599627370496>e?(this.words=[67108863&e,67108863&e/67108864],this.length=2):(o(9007199254740992>e),this.words=[67108863&e,67108863&e/67108864,1],this.length=3);"le"!==r||this._initArray(this.toArray(),t,r)},d.prototype._initArray=function(e,t,r){if(o("number"==typeof e.length),0>=e.length)return this.words=[0],this.length=1,this;this.length=U(e.length/3),this.words=Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var a,s,d=0;if("be"===r)for(n=e.length-1,a=0;0<=n;n-=3)s=e[n]|e[n-1]<<8|e[n-2]<<16,this.words[a]|=67108863&s<<d,this.words[a+1]=67108863&s>>>26-d,d+=24,26<=d&&(d-=26,a++);else if("le"===r)for(n=0,a=0;n<e.length;n+=3)s=e[n]|e[n+1]<<8|e[n+2]<<16,this.words[a]|=67108863&s<<d,this.words[a+1]=67108863&s>>>26-d,d+=24,26<=d&&(d-=26,a++);return this.strip()},d.prototype._parseHex=function(e,t){this.length=U((e.length-t)/6),this.words=Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var n,a,s=0;for(o=e.length-6,n=0;o>=t;o-=6)a=r(e,o,o+6),this.words[n]|=67108863&a<<s,this.words[n+1]|=4194303&a>>>26-s,s+=24,26<=s&&(s-=26,n++);o+6!==t&&(a=r(e,t,o+6),this.words[n]|=67108863&a<<s,this.words[n+1]|=4194303&a>>>26-s),this.strip()},d.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var o=0,n=1;67108863>=n;n*=t)o++;o--,n=0|n/t;for(var s=e.length-r,d=s%o,l=E(s,s-d)+r,p=0,u=r;u<l;u+=o)p=a(e,u,u+o,t),this.imuln(n),67108864>this.words[0]+p?this.words[0]+=p:this._iaddn(p);if(0!==d){var c=1;for(p=a(e,u,e.length,t),u=0;u<d;u++)c*=t;this.imuln(c),67108864>this.words[0]+p?this.words[0]+=p:this._iaddn(p)}},d.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},d.prototype.clone=function(){var e=new d(null);return this.copy(e),e},d.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;1<this.length&&0===this.words[this.length-1];)this.length--;return this._normSign()},d.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var k=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],T=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],I=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(e,t){e=e||10,t=0|t||1;var n;if(16===e||"hex"===e){n="";for(var a=0,s=0,d=0;d<this.length;d++){var l=this.words[d],p=(16777215&(l<<a|s)).toString(16);s=16777215&l>>>24-a,n=0!==s||d!=this.length-1?k[6-p.length]+p+n:p+n,a+=2,26<=a&&(a-=26,d--)}for(0!==s&&(n=s.toString(16)+n);0!=n.length%t;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&2<=e&&36>=e){var u=T[e],h=I[e];n="";var y=this.clone();for(y.negative=0;!y.isZero();){var g=y.modn(h).toString(e);y=y.idivn(h),n=y.isZero()?g+n:k[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);0!=n.length%t;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}o(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:2<this.length&&o(!1,"Number can only safely store up to 53 bits"),0===this.negative?e:-e},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(e,t){return o("undefined"!=typeof A),this.toArrayLike(A,e,t)},d.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},d.prototype.toArrayLike=function(e,t,r){var n=this.byteLength(),a=r||x(1,n);o(n<=a,"byte array longer than desired length"),o(0<a,"Requested array length <= 0"),this.strip();var s,d,l=new e(a),p=this.clone();if(!("le"===t)){for(d=0;d<a-n;d++)l[d]=0;for(d=0;!p.isZero();d++)s=p.andln(255),p.iushrn(8),l[a-d-1]=s}else{for(d=0;!p.isZero();d++)s=p.andln(255),p.iushrn(8),l[d]=s;for(;d<a;d++)l[d]=0}return l},d.prototype._countBits=_?function(e){return 32-_(e)}:function(e){var o=e,n=0;return 4096<=o&&(n+=13,o>>>=13),64<=o&&(n+=7,o>>>=7),8<=o&&(n+=4,o>>>=4),2<=o&&(n+=2,o>>>=2),n+o},d.prototype._zeroBits=function(e){if(0===e)return 26;var o=e,n=0;return 0==(8191&o)&&(n+=13,o>>>=13),0==(127&o)&&(n+=7,o>>>=7),0==(15&o)&&(n+=4,o>>>=4),0==(3&o)&&(n+=2,o>>>=2),0==(1&o)&&n++,n},d.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e,t=0,o=0;o<this.length&&(e=this._zeroBits(this.words[o]),t+=e,26===e);o++);return t},d.prototype.byteLength=function(){return U(this.bitLength()/8)},d.prototype.toTwos=function(e){return 0===this.negative?this.clone():this.abs().inotn(e).iaddn(1)},d.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return 0!==this.negative},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]|=e.words[t];return this.strip()},d.prototype.ior=function(e){return o(0==(this.negative|e.negative)),this.iuor(e)},d.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},d.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},d.prototype.iuand=function(e){var t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]&=e.words[r];return this.length=t.length,this.strip()},d.prototype.iand=function(e){return o(0==(this.negative|e.negative)),this.iuand(e)},d.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},d.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},d.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var o=0;o<r.length;o++)this.words[o]=t.words[o]^r.words[o];if(this!==t)for(;o<t.length;o++)this.words[o]=t.words[o];return this.length=t.length,this.strip()},d.prototype.ixor=function(e){return o(0==(this.negative|e.negative)),this.iuxor(e)},d.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},d.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},d.prototype.inotn=function(e){o("number"==typeof e&&0<=e);var t=0|U(e/26),r=e%26;this._expand(t),0<r&&t--;for(var n=0;n<t;n++)this.words[n]=67108863&~this.words[n];return 0<r&&(this.words[n]=~this.words[n]&67108863>>26-r),this.strip()},d.prototype.notn=function(e){return this.clone().inotn(e)},d.prototype.setn=function(e,t){o("number"==typeof e&&0<=e);var r=0|e/26,n=e%26;return this._expand(r+1),t?this.words[r]|=1<<n:this.words[r]&=~(1<<n),this.strip()},d.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var o,n;this.length>e.length?(o=this,n=e):(o=e,n=this);for(var s=0,d=0;d<n.length;d++)t=(0|o.words[d])+(0|n.words[d])+s,this.words[d]=67108863&t,s=t>>>26;for(;0!==s&&d<o.length;d++)t=(0|o.words[d])+s,this.words[d]=67108863&t,s=t>>>26;if(this.length=o.length,0!==s)this.words[this.length]=s,this.length++;else if(o!==this)for(;d<o.length;d++)this.words[d]=o.words[d];return this},d.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},d.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var o=this.cmp(e);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;var n,s;0<o?(n=this,s=e):(n=e,s=this);for(var d=0,l=0;l<s.length;l++)t=(0|n.words[l])-(0|s.words[l])+d,d=t>>26,this.words[l]=67108863&t;for(;0!==d&&l<n.length;l++)t=(0|n.words[l])+d,d=t>>26,this.words[l]=67108863&t;if(0===d&&l<n.length&&n!==this)for(;l<n.length;l++)this.words[l]=n.words[l];return this.length=x(this.length,l),n!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(e){return this.clone().isub(e)};var S=function(e,t,r){var n,i,s,d=e.words,a=t.words,l=r.words,o=0,p=0|d[0],u=8191&p,h=p>>>13,y=0|d[1],g=8191&y,f=y>>>13,m=0|d[2],b=8191&m,v=m>>>13,_=0|d[3],N=8191&_,x=_>>>13,E=0|d[4],A=8191&E,k=E>>>13,T=0|d[5],I=8191&T,S=T>>>13,R=0|d[6],M=8191&R,U=R>>>13,L=0|d[7],B=8191&L,O=L>>>13,P=0|d[8],C=8191&P,D=P>>>13,F=0|d[9],j=8191&F,G=F>>>13,z=0|a[0],V=8191&z,Z=z>>>13,q=0|a[1],H=8191&q,K=q>>>13,W=0|a[2],J=8191&W,X=W>>>13,Y=0|a[3],$=8191&Y,Q=Y>>>13,ee=0|a[4],te=8191&ee,re=ee>>>13,oe=0|a[5],ne=8191&oe,ie=oe>>>13,ae=0|a[6],se=8191&ae,de=ae>>>13,le=0|a[7],pe=8191&le,ue=le>>>13,ce=0|a[8],he=8191&ce,ye=ce>>>13,ge=0|a[9],fe=8191&ge,me=ge>>>13;r.negative=e.negative^t.negative,r.length=19,n=w(u,V),i=w(u,Z),i=0|i+w(h,V),s=w(h,Z);var be=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(be>>>26),be&=67108863,n=w(g,V),i=w(g,Z),i=0|i+w(f,V),s=w(f,Z),n=0|n+w(u,H),i=0|i+w(u,K),i=0|i+w(h,H),s=0|s+w(h,K);var ve=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(ve>>>26),ve&=67108863,n=w(b,V),i=w(b,Z),i=0|i+w(v,V),s=w(v,Z),n=0|n+w(g,H),i=0|i+w(g,K),i=0|i+w(f,H),s=0|s+w(f,K),n=0|n+w(u,J),i=0|i+w(u,X),i=0|i+w(h,J),s=0|s+w(h,X);var we=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(we>>>26),we&=67108863,n=w(N,V),i=w(N,Z),i=0|i+w(x,V),s=w(x,Z),n=0|n+w(b,H),i=0|i+w(b,K),i=0|i+w(v,H),s=0|s+w(v,K),n=0|n+w(g,J),i=0|i+w(g,X),i=0|i+w(f,J),s=0|s+w(f,X),n=0|n+w(u,$),i=0|i+w(u,Q),i=0|i+w(h,$),s=0|s+w(h,Q);var _e=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(_e>>>26),_e&=67108863,n=w(A,V),i=w(A,Z),i=0|i+w(k,V),s=w(k,Z),n=0|n+w(N,H),i=0|i+w(N,K),i=0|i+w(x,H),s=0|s+w(x,K),n=0|n+w(b,J),i=0|i+w(b,X),i=0|i+w(v,J),s=0|s+w(v,X),n=0|n+w(g,$),i=0|i+w(g,Q),i=0|i+w(f,$),s=0|s+w(f,Q),n=0|n+w(u,te),i=0|i+w(u,re),i=0|i+w(h,te),s=0|s+w(h,re);var Ne=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Ne>>>26),Ne&=67108863,n=w(I,V),i=w(I,Z),i=0|i+w(S,V),s=w(S,Z),n=0|n+w(A,H),i=0|i+w(A,K),i=0|i+w(k,H),s=0|s+w(k,K),n=0|n+w(N,J),i=0|i+w(N,X),i=0|i+w(x,J),s=0|s+w(x,X),n=0|n+w(b,$),i=0|i+w(b,Q),i=0|i+w(v,$),s=0|s+w(v,Q),n=0|n+w(g,te),i=0|i+w(g,re),i=0|i+w(f,te),s=0|s+w(f,re),n=0|n+w(u,ne),i=0|i+w(u,ie),i=0|i+w(h,ne),s=0|s+w(h,ie);var xe=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(xe>>>26),xe&=67108863,n=w(M,V),i=w(M,Z),i=0|i+w(U,V),s=w(U,Z),n=0|n+w(I,H),i=0|i+w(I,K),i=0|i+w(S,H),s=0|s+w(S,K),n=0|n+w(A,J),i=0|i+w(A,X),i=0|i+w(k,J),s=0|s+w(k,X),n=0|n+w(N,$),i=0|i+w(N,Q),i=0|i+w(x,$),s=0|s+w(x,Q),n=0|n+w(b,te),i=0|i+w(b,re),i=0|i+w(v,te),s=0|s+w(v,re),n=0|n+w(g,ne),i=0|i+w(g,ie),i=0|i+w(f,ne),s=0|s+w(f,ie),n=0|n+w(u,se),i=0|i+w(u,de),i=0|i+w(h,se),s=0|s+w(h,de);var Ee=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Ee>>>26),Ee&=67108863,n=w(B,V),i=w(B,Z),i=0|i+w(O,V),s=w(O,Z),n=0|n+w(M,H),i=0|i+w(M,K),i=0|i+w(U,H),s=0|s+w(U,K),n=0|n+w(I,J),i=0|i+w(I,X),i=0|i+w(S,J),s=0|s+w(S,X),n=0|n+w(A,$),i=0|i+w(A,Q),i=0|i+w(k,$),s=0|s+w(k,Q),n=0|n+w(N,te),i=0|i+w(N,re),i=0|i+w(x,te),s=0|s+w(x,re),n=0|n+w(b,ne),i=0|i+w(b,ie),i=0|i+w(v,ne),s=0|s+w(v,ie),n=0|n+w(g,se),i=0|i+w(g,de),i=0|i+w(f,se),s=0|s+w(f,de),n=0|n+w(u,pe),i=0|i+w(u,ue),i=0|i+w(h,pe),s=0|s+w(h,ue);var Ae=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Ae>>>26),Ae&=67108863,n=w(C,V),i=w(C,Z),i=0|i+w(D,V),s=w(D,Z),n=0|n+w(B,H),i=0|i+w(B,K),i=0|i+w(O,H),s=0|s+w(O,K),n=0|n+w(M,J),i=0|i+w(M,X),i=0|i+w(U,J),s=0|s+w(U,X),n=0|n+w(I,$),i=0|i+w(I,Q),i=0|i+w(S,$),s=0|s+w(S,Q),n=0|n+w(A,te),i=0|i+w(A,re),i=0|i+w(k,te),s=0|s+w(k,re),n=0|n+w(N,ne),i=0|i+w(N,ie),i=0|i+w(x,ne),s=0|s+w(x,ie),n=0|n+w(b,se),i=0|i+w(b,de),i=0|i+w(v,se),s=0|s+w(v,de),n=0|n+w(g,pe),i=0|i+w(g,ue),i=0|i+w(f,pe),s=0|s+w(f,ue),n=0|n+w(u,he),i=0|i+w(u,ye),i=0|i+w(h,he),s=0|s+w(h,ye);var ke=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(ke>>>26),ke&=67108863,n=w(j,V),i=w(j,Z),i=0|i+w(G,V),s=w(G,Z),n=0|n+w(C,H),i=0|i+w(C,K),i=0|i+w(D,H),s=0|s+w(D,K),n=0|n+w(B,J),i=0|i+w(B,X),i=0|i+w(O,J),s=0|s+w(O,X),n=0|n+w(M,$),i=0|i+w(M,Q),i=0|i+w(U,$),s=0|s+w(U,Q),n=0|n+w(I,te),i=0|i+w(I,re),i=0|i+w(S,te),s=0|s+w(S,re),n=0|n+w(A,ne),i=0|i+w(A,ie),i=0|i+w(k,ne),s=0|s+w(k,ie),n=0|n+w(N,se),i=0|i+w(N,de),i=0|i+w(x,se),s=0|s+w(x,de),n=0|n+w(b,pe),i=0|i+w(b,ue),i=0|i+w(v,pe),s=0|s+w(v,ue),n=0|n+w(g,he),i=0|i+w(g,ye),i=0|i+w(f,he),s=0|s+w(f,ye),n=0|n+w(u,fe),i=0|i+w(u,me),i=0|i+w(h,fe),s=0|s+w(h,me);var Te=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Te>>>26),Te&=67108863,n=w(j,H),i=w(j,K),i=0|i+w(G,H),s=w(G,K),n=0|n+w(C,J),i=0|i+w(C,X),i=0|i+w(D,J),s=0|s+w(D,X),n=0|n+w(B,$),i=0|i+w(B,Q),i=0|i+w(O,$),s=0|s+w(O,Q),n=0|n+w(M,te),i=0|i+w(M,re),i=0|i+w(U,te),s=0|s+w(U,re),n=0|n+w(I,ne),i=0|i+w(I,ie),i=0|i+w(S,ne),s=0|s+w(S,ie),n=0|n+w(A,se),i=0|i+w(A,de),i=0|i+w(k,se),s=0|s+w(k,de),n=0|n+w(N,pe),i=0|i+w(N,ue),i=0|i+w(x,pe),s=0|s+w(x,ue),n=0|n+w(b,he),i=0|i+w(b,ye),i=0|i+w(v,he),s=0|s+w(v,ye),n=0|n+w(g,fe),i=0|i+w(g,me),i=0|i+w(f,fe),s=0|s+w(f,me);var Ie=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Ie>>>26),Ie&=67108863,n=w(j,J),i=w(j,X),i=0|i+w(G,J),s=w(G,X),n=0|n+w(C,$),i=0|i+w(C,Q),i=0|i+w(D,$),s=0|s+w(D,Q),n=0|n+w(B,te),i=0|i+w(B,re),i=0|i+w(O,te),s=0|s+w(O,re),n=0|n+w(M,ne),i=0|i+w(M,ie),i=0|i+w(U,ne),s=0|s+w(U,ie),n=0|n+w(I,se),i=0|i+w(I,de),i=0|i+w(S,se),s=0|s+w(S,de),n=0|n+w(A,pe),i=0|i+w(A,ue),i=0|i+w(k,pe),s=0|s+w(k,ue),n=0|n+w(N,he),i=0|i+w(N,ye),i=0|i+w(x,he),s=0|s+w(x,ye),n=0|n+w(b,fe),i=0|i+w(b,me),i=0|i+w(v,fe),s=0|s+w(v,me);var Se=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Se>>>26),Se&=67108863,n=w(j,$),i=w(j,Q),i=0|i+w(G,$),s=w(G,Q),n=0|n+w(C,te),i=0|i+w(C,re),i=0|i+w(D,te),s=0|s+w(D,re),n=0|n+w(B,ne),i=0|i+w(B,ie),i=0|i+w(O,ne),s=0|s+w(O,ie),n=0|n+w(M,se),i=0|i+w(M,de),i=0|i+w(U,se),s=0|s+w(U,de),n=0|n+w(I,pe),i=0|i+w(I,ue),i=0|i+w(S,pe),s=0|s+w(S,ue),n=0|n+w(A,he),i=0|i+w(A,ye),i=0|i+w(k,he),s=0|s+w(k,ye),n=0|n+w(N,fe),i=0|i+w(N,me),i=0|i+w(x,fe),s=0|s+w(x,me);var Re=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Re>>>26),Re&=67108863,n=w(j,te),i=w(j,re),i=0|i+w(G,te),s=w(G,re),n=0|n+w(C,ne),i=0|i+w(C,ie),i=0|i+w(D,ne),s=0|s+w(D,ie),n=0|n+w(B,se),i=0|i+w(B,de),i=0|i+w(O,se),s=0|s+w(O,de),n=0|n+w(M,pe),i=0|i+w(M,ue),i=0|i+w(U,pe),s=0|s+w(U,ue),n=0|n+w(I,he),i=0|i+w(I,ye),i=0|i+w(S,he),s=0|s+w(S,ye),n=0|n+w(A,fe),i=0|i+w(A,me),i=0|i+w(k,fe),s=0|s+w(k,me);var Me=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Me>>>26),Me&=67108863,n=w(j,ne),i=w(j,ie),i=0|i+w(G,ne),s=w(G,ie),n=0|n+w(C,se),i=0|i+w(C,de),i=0|i+w(D,se),s=0|s+w(D,de),n=0|n+w(B,pe),i=0|i+w(B,ue),i=0|i+w(O,pe),s=0|s+w(O,ue),n=0|n+w(M,he),i=0|i+w(M,ye),i=0|i+w(U,he),s=0|s+w(U,ye),n=0|n+w(I,fe),i=0|i+w(I,me),i=0|i+w(S,fe),s=0|s+w(S,me);var Ue=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Ue>>>26),Ue&=67108863,n=w(j,se),i=w(j,de),i=0|i+w(G,se),s=w(G,de),n=0|n+w(C,pe),i=0|i+w(C,ue),i=0|i+w(D,pe),s=0|s+w(D,ue),n=0|n+w(B,he),i=0|i+w(B,ye),i=0|i+w(O,he),s=0|s+w(O,ye),n=0|n+w(M,fe),i=0|i+w(M,me),i=0|i+w(U,fe),s=0|s+w(U,me);var Le=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Le>>>26),Le&=67108863,n=w(j,pe),i=w(j,ue),i=0|i+w(G,pe),s=w(G,ue),n=0|n+w(C,he),i=0|i+w(C,ye),i=0|i+w(D,he),s=0|s+w(D,ye),n=0|n+w(B,fe),i=0|i+w(B,me),i=0|i+w(O,fe),s=0|s+w(O,me);var Be=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Be>>>26),Be&=67108863,n=w(j,he),i=w(j,ye),i=0|i+w(G,he),s=w(G,ye),n=0|n+w(C,fe),i=0|i+w(C,me),i=0|i+w(D,fe),s=0|s+w(D,me);var Oe=0|(0|o+n)+((8191&i)<<13);o=0|(0|s+(i>>>13))+(Oe>>>26),Oe&=67108863,n=w(j,fe),i=w(j,me),i=0|i+w(G,fe),s=w(G,me);var Pe=0|(0|o+n)+((8191&i)<<13);return o=0|(0|s+(i>>>13))+(Pe>>>26),Pe&=67108863,l[0]=be,l[1]=ve,l[2]=we,l[3]=_e,l[4]=Ne,l[5]=xe,l[6]=Ee,l[7]=Ae,l[8]=ke,l[9]=Te,l[10]=Ie,l[11]=Se,l[12]=Re,l[13]=Me,l[14]=Ue,l[15]=Le,l[16]=Be,l[17]=Oe,l[18]=Pe,0!==o&&(l[19]=o,r.length++),r};w||(S=l),d.prototype.mulTo=function(e,t){var r,o=this.length+e.length;return r=10===this.length&&10===e.length?S(this,e,t):63>o?l(this,e,t):1024>o?p(this,e,t):u(this,e,t),r},c.prototype.makeRBT=function(e){for(var r=Array(e),t=d.prototype._countBits(e)-1,o=0;o<e;o++)r[o]=this.revBin(o,t,e);return r},c.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var o=0,n=0;n<t;n++)o|=(1&e)<<t-n-1,e>>=1;return o},c.prototype.permute=function(e,t,r,o,n,a){for(var s=0;s<a;s++)o[s]=t[e[s]],n[s]=r[e[s]]},c.prototype.transform=function(e,t,r,o,n,i){var a=Math.sin,d=Math.cos,u=Math.PI;this.permute(i,e,t,r,o,n);for(var c=1;c<n;c<<=1)for(var h=c<<1,l=d(2*u/h),y=a(2*u/h),g=0;g<n;g+=h)for(var f=l,m=y,b=0;b<c;b++){var v=r[g+b],w=o[g+b],_=r[g+b+c],N=o[g+b+c],x=f*_-m*N;N=f*N+m*_,_=x,r[g+b]=v+_,o[g+b]=w+N,r[g+b+c]=v-_,o[g+b+c]=w-N,b!==h&&(x=l*f-y*m,m=l*m+y*f,f=x)}},c.prototype.guessLen13b=function(e,t){var r=1|x(t,e),o=1&r,n=0;for(r=0|r/2;r;r>>>=1)n++;return 1<<n+1+o},c.prototype.conjugate=function(e,r,o){if(!(1>=o))for(var n,a=0;a<o/2;a++)n=e[a],e[a]=e[o-a-1],e[o-a-1]=n,n=r[a],r[a]=-r[o-a-1],r[o-a-1]=-n},c.prototype.normalize13b=function(e,t){for(var r=Math.round,o,n=0,a=0;a<t/2;a++)o=8192*r(e[2*a+1]/t)+r(e[2*a]/t)+n,e[a]=67108863&o,n=67108864>o?0:0|o/67108864;return e},c.prototype.convert13b=function(e,t,r,n){for(var a=0,s=0;s<t;s++)a+=0|e[s],r[2*s]=8191&a,a>>>=13,r[2*s+1]=8191&a,a>>>=13;for(s=2*t;s<n;++s)r[s]=0;o(0===a),o(0==(-8192&a))},c.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},c.prototype.mulp=function(e,t,r){var o=2*this.guessLen13b(e.length,t.length),n=this.makeRBT(o),a=this.stub(o),s=Array(o),d=Array(o),l=Array(o),p=Array(o),u=Array(o),c=Array(o),h=r.words;h.length=o,this.convert13b(e.words,e.length,s,o),this.convert13b(t.words,t.length,p,o),this.transform(s,a,d,l,o,n),this.transform(p,a,u,c,o,n);for(var y,g=0;g<o;g++)y=d[g]*u[g]-l[g]*c[g],l[g]=d[g]*c[g]+l[g]*u[g],d[g]=y;return this.conjugate(d,l,o),this.transform(d,l,h,a,o,n),this.conjugate(h,a,o),this.normalize13b(h,o),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},d.prototype.mul=function(e){var t=new d(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},d.prototype.mulf=function(e){var t=new d(null);return t.words=Array(this.length+e.length),u(this,e,t)},d.prototype.imul=function(e){return this.clone().mulTo(e,this)},d.prototype.imuln=function(e){o("number"==typeof e),o(67108864>e);for(var t=0,r=0;r<this.length;r++){var n=(0|this.words[r])*e,a=(67108863&n)+(67108863&t);t>>=26,t+=0|n/67108864,t+=a>>>26,this.words[r]=67108863&a}return 0!==t&&(this.words[r]=t,this.length++),this},d.prototype.muln=function(e){return this.clone().imuln(e)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(e){var t=s(e);if(0===t.length)return new d(1);for(var r=this,o=0;o<t.length&&!(0!==t[o]);o++,r=r.sqr());if(++o<t.length)for(var n=r.sqr();o<t.length;o++,n=n.sqr())0!==t[o]&&(r=r.mul(n));return r},d.prototype.iushln=function(e){o("number"==typeof e&&0<=e);var t,n=e%26,r=(e-n)/26;if(0!=n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&67108863>>>26-n<<26-n,d=(0|this.words[t])-s<<n;this.words[t]=d|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==r){for(t=this.length-1;0<=t;t--)this.words[t+r]=this.words[t];for(t=0;t<r;t++)this.words[t]=0;this.length+=r}return this.strip()},d.prototype.ishln=function(e){return o(0===this.negative),this.iushln(e)},d.prototype.iushrn=function(e,t,n){o("number"==typeof e&&0<=e);var a=t?(t-t%26)/26:0;var d=e%26,r=E((e-d)/26,this.length),s=n;if(a-=r,a=x(0,a),s){for(var l=0;l<r;l++)s.words[l]=this.words[l];s.length=r}if(0===r);else if(this.length>r)for(this.length-=r,l=0;l<this.length;l++)this.words[l]=this.words[l+r];else this.words[0]=0,this.length=1;var p=0;for(l=this.length-1;0<=l&&(0!=p||l>=a);l--){var u=0|this.words[l];this.words[l]=p<<26-d|u>>>d,p=u&(67108863^67108863>>>d<<d)}return s&&0!=p&&(s.words[s.length++]=p),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(e,t,r){return o(0===this.negative),this.iushrn(e,t,r)},d.prototype.shln=function(e){return this.clone().ishln(e)},d.prototype.ushln=function(e){return this.clone().iushln(e)},d.prototype.shrn=function(e){return this.clone().ishrn(e)},d.prototype.ushrn=function(e){return this.clone().iushrn(e)},d.prototype.testn=function(e){o("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26;if(this.length<=r)return!1;var n=this.words[r];return!!(n&1<<t)},d.prototype.imaskn=function(e){o("number"==typeof e&&0<=e);var t=e%26,r=(e-t)/26;if(o(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!=t&&r++,this.length=E(r,this.length),0!=t){this.words[this.length-1]&=67108863^67108863>>>t<<t}return this.strip()},d.prototype.maskn=function(e){return this.clone().imaskn(e)},d.prototype.iaddn=function(e){return o("number"==typeof e),o(67108864>e),0>e?this.isubn(-e):0===this.negative?this._iaddn(e):1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this)},d.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&67108864<=this.words[t];t++)this.words[t]-=67108864,t==this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=x(this.length,t+1),this},d.prototype.isubn=function(e){if(o("number"==typeof e),o(67108864>e),0>e)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&0>this.words[0])this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&0>this.words[t];t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},d.prototype.addn=function(e){return this.clone().iaddn(e)},d.prototype.subn=function(e){return this.clone().isubn(e)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(e,t,r){var n,a=e.length+r;this._expand(a);var s,d=0;for(n=0;n<e.length;n++){s=(0|this.words[n+r])+d;var l=(0|e.words[n])*t;s-=67108863&l,d=(s>>26)-(0|l/67108864),this.words[n+r]=67108863&s}for(;n<this.length-r;n++)s=(0|this.words[n+r])+d,d=s>>26,this.words[n+r]=67108863&s;if(0===d)return this.strip();for(o(-1===d),d=0,n=0;n<this.length;n++)s=-(0|this.words[n])+d,d=s>>26,this.words[n]=67108863&s;return this.negative=1,this.strip()},d.prototype._wordDiv=function(e,t){var r=this.length-e.length,o=this.clone(),n=e,s=0|n.words[n.length-1],l=this._countBits(s);r=26-l,0!=r&&(n=n.ushln(r),o.iushln(r),s=0|n.words[n.length-1]);var p,u=o.length-n.length;if("mod"!==t){p=new d(null),p.length=u+1,p.words=Array(p.length);for(var c=0;c<p.length;c++)p.words[c]=0}var h=o.clone()._ishlnsubmul(n,1,u);0===h.negative&&(o=h,p&&(p.words[u]=1));for(var y,g=u-1;0<=g;g--){for(y=67108864*(0|o.words[n.length+g])+(0|o.words[n.length+g-1]),y=E(0|y/s,67108863),o._ishlnsubmul(n,y,g);0!==o.negative;)y--,o.negative=0,o._ishlnsubmul(n,1,g),o.isZero()||(o.negative^=1);p&&(p.words[g]=y)}return p&&p.strip(),o.strip(),"div"!==t&&0!=r&&o.iushrn(r),{div:p||null,mod:o}},d.prototype.divmod=function(e,t,r){if(o(!e.isZero()),this.isZero())return{div:new d(0),mod:new d(0)};var n,i,a;return 0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(n=a.div.neg()),"div"!==t&&(i=a.mod.neg(),r&&0!==i.negative&&i.iadd(e)),{div:n,mod:i}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}):0==(this.negative&e.negative)?e.length>this.length||0>this.cmp(e)?{div:new d(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new d(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new d(this.modn(e.words[0]))}:this._wordDiv(e,t):(a=this.neg().divmod(e.neg(),t),"div"!==t&&(i=a.mod.neg(),r&&0!==i.negative&&i.isub(e)),{div:a.div,mod:i})},d.prototype.div=function(e){return this.divmod(e,"div",!1).div},d.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},d.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},d.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0===t.div.negative?t.mod:t.mod.isub(e),o=e.ushrn(1),n=e.andln(1),i=r.cmp(o);return 0>i||1===n&&0===i?t.div:0===t.div.negative?t.div.iaddn(1):t.div.isubn(1)},d.prototype.modn=function(e){o(67108863>=e);for(var t=0,r=this.length-1;0<=r;r--)t=(67108864%e*t+(0|this.words[r]))%e;return t},d.prototype.idivn=function(e){o(67108863>=e);for(var t,r=0,n=this.length-1;0<=n;n--)t=(0|this.words[n])+67108864*r,this.words[n]=0|t/e,r=t%e;return this.strip()},d.prototype.divn=function(e){return this.clone().idivn(e)},d.prototype.egcd=function(e){o(0===e.negative),o(!e.isZero());var t=this,r=e.clone();t=0===t.negative?t.clone():t.umod(e);for(var n=new d(1),a=new d(0),s=new d(0),l=new d(1),p=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++p;for(var u=r.clone(),c=t.clone();!t.isZero();){for(var h=0,y=1;0==(t.words[0]&y)&&26>h;++h,y<<=1);if(0<h)for(t.iushrn(h);0<h--;)(n.isOdd()||a.isOdd())&&(n.iadd(u),a.isub(c)),n.iushrn(1),a.iushrn(1);for(var f=0,m=1;0==(r.words[0]&m)&&26>f;++f,m<<=1);if(0<f)for(r.iushrn(f);0<f--;)(s.isOdd()||l.isOdd())&&(s.iadd(u),l.isub(c)),s.iushrn(1),l.iushrn(1);0<=t.cmp(r)?(t.isub(r),n.isub(s),a.isub(l)):(r.isub(t),s.isub(n),l.isub(a))}return{a:s,b:l,gcd:r.iushln(p)}},d.prototype._invmp=function(e){o(0===e.negative),o(!e.isZero());var t=this,r=e.clone();t=0===t.negative?t.clone():t.umod(e);for(var n=new d(1),s=new d(0),l=r.clone();0<t.cmpn(1)&&0<r.cmpn(1);){for(var p=0,u=1;0==(t.words[0]&u)&&26>p;++p,u<<=1);if(0<p)for(t.iushrn(p);0<p--;)n.isOdd()&&n.iadd(l),n.iushrn(1);for(var c=0,h=1;0==(r.words[0]&h)&&26>c;++c,h<<=1);if(0<c)for(r.iushrn(c);0<c--;)s.isOdd()&&s.iadd(l),s.iushrn(1);0<=t.cmp(r)?(t.isub(r),n.isub(s)):(r.isub(t),s.isub(n))}var y;return y=0===t.cmpn(1)?n:s,0>y.cmpn(0)&&y.iadd(e),y},d.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var o=this.clone(),n=e.clone();o.negative=0,n.negative=0;for(var i=0;o.isEven()&&n.isEven();i++)o.iushrn(1),n.iushrn(1);do{for(;o.isEven();)o.iushrn(1);for(;n.isEven();)n.iushrn(1);var s=o.cmp(n);if(0>s){var r=o;o=n,n=r}else if(0===s||0===n.cmpn(1))break;o.isub(n)}while(!0);return n.iushln(i)},d.prototype.invm=function(e){return this.egcd(e).a.umod(e)},d.prototype.isEven=function(){return 0==(1&this.words[0])},d.prototype.isOdd=function(){return 1==(1&this.words[0])},d.prototype.andln=function(e){return this.words[0]&e},d.prototype.bincn=function(e){o("number"==typeof e);var t=e%26,r=(e-t)/26,n=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=n,this;for(var a,s=n,d=r;0!==s&&d<this.length;d++)a=0|this.words[d],a+=s,s=a>>>26,a&=67108863,this.words[d]=a;return 0!==s&&(this.words[d]=s,this.length++),this},d.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},d.prototype.cmpn=function(e){var t=0>e;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this.strip();var r;if(1<this.length)r=1;else{t&&(e=-e),o(67108863>=e,"Number is too big");var n=0|this.words[0];r=n===e?0:n<e?-1:1}return 0===this.negative?r:0|-r},d.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0===this.negative?t:0|-t},d.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;0<=r;r--){var o=0|this.words[r],n=0|e.words[r];if(o!==n){o<n?t=-1:o>n&&(t=1);break}}return t},d.prototype.gtn=function(e){return 1===this.cmpn(e)},d.prototype.gt=function(e){return 1===this.cmp(e)},d.prototype.gten=function(e){return 0<=this.cmpn(e)},d.prototype.gte=function(e){return 0<=this.cmp(e)},d.prototype.ltn=function(e){return-1===this.cmpn(e)},d.prototype.lt=function(e){return-1===this.cmp(e)},d.prototype.lten=function(e){return 0>=this.cmpn(e)},d.prototype.lte=function(e){return 0>=this.cmp(e)},d.prototype.eqn=function(e){return 0===this.cmpn(e)},d.prototype.eq=function(e){return 0===this.cmp(e)},d.red=function(e){return new b(e)},d.prototype.toRed=function(e){return o(!this.red,"Already a number in reduction context"),o(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},d.prototype.fromRed=function(){return o(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(e){return this.red=e,this},d.prototype.forceRed=function(e){return o(!this.red,"Already a number in reduction context"),this._forceRed(e)},d.prototype.redAdd=function(e){return o(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},d.prototype.redIAdd=function(e){return o(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},d.prototype.redSub=function(e){return o(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},d.prototype.redISub=function(e){return o(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},d.prototype.redShl=function(e){return o(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},d.prototype.redMul=function(e){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},d.prototype.redIMul=function(e){return o(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},d.prototype.redSqr=function(){return o(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return o(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return o(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return o(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return o(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(e){return o(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var R={k256:null,p224:null,p192:null,p25519:null};h.prototype._tmp=function(){var e=new d(null);return e.words=Array(U(this.n/13)),e},h.prototype.ireduce=function(e){var t,o=e;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),t=o.bitLength();while(t>this.n);var n=t<this.n?-1:o.ucmp(this.p);return 0===n?(o.words[0]=0,o.length=1):0<n?o.isub(this.p):o.strip(),o},h.prototype.split=function(e,t){e.iushrn(this.n,0,t)},h.prototype.imulK=function(e){return e.imul(this.k)},n(y,h),y.prototype.split=function(e,t){for(var r=4194303,o=E(e.length,9),n=0;n<o;n++)t.words[n]=e.words[n];if(t.length=o,9>=e.length)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,n=10;n<e.length;n++){var s=0|e.words[n];e.words[n-10]=(s&r)<<4|a>>>22,a=s}a>>>=22,e.words[n-10]=a,e.length-=0===a&&10<e.length?10:9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t,r=0,o=0;o<e.length;o++)t=0|e.words[o],r+=977*t,e.words[o]=67108863&r,r=64*t+(0|r/67108864);return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(g,h),n(f,h),n(m,h),m.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var o=19*(0|e.words[r])+t,n=67108863&o;o>>>=26,e.words[r]=n,t=o}return 0!==t&&(e.words[e.length++]=t),e},d._prime=function e(t){if(R[t])return R[t];var e;if("k256"===t)e=new y;else if("p224"===t)e=new g;else if("p192"===t)e=new f;else if("p25519"===t)e=new m;else throw new Error("Unknown prime "+t);return R[t]=e,e},b.prototype._verify1=function(e){o(0===e.negative,"red works only with positives"),o(e.red,"red works only with red numbers")},b.prototype._verify2=function(e,t){o(0==(e.negative|t.negative),"red works only with positives"),o(e.red&&e.red===t.red,"red works only with red numbers")},b.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},b.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},b.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return 0<=r.cmp(this.m)&&r.isub(this.m),r._forceRed(this)},b.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return 0<=r.cmp(this.m)&&r.isub(this.m),r},b.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r._forceRed(this)},b.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return 0>r.cmpn(0)&&r.iadd(this.m),r},b.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},b.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},b.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},b.prototype.isqr=function(e){return this.imul(e,e.clone())},b.prototype.sqr=function(e){return this.mul(e,e)},b.prototype.sqrt=function(e){if(e.isZero())return e.clone();var n=this.m.andln(3);if(o(1==n%2),3===n){var a=this.m.add(new d(1)).iushrn(2);return this.pow(e,a)}for(var l=this.m.subn(1),p=0;!l.isZero()&&0===l.andln(1);)p++,l.iushrn(1);o(!l.isZero());var u=new d(1).toRed(this),h=u.redNeg(),y=this.m.subn(1).iushrn(1),g=this.m.bitLength();for(g=new d(2*g*g).toRed(this);0!==this.pow(g,y).cmp(h);)g.redIAdd(h);for(var f=this.pow(g,l),v=this.pow(e,l.addn(1).iushrn(1)),w=this.pow(e,l),_=p;0!==w.cmp(u);){for(var N=w,x=0;0!==N.cmp(u);x++)N=N.redSqr();o(x<_);var E=this.pow(f,new d(1).iushln(_-x-1));v=v.redMul(E),f=E.redSqr(),w=w.redMul(f),_=x}return v},b.prototype.invm=function(e){var t=e._invmp(this.m);return 0===t.negative?this.imod(t):(t.negative=0,this.imod(t).redNeg())},b.prototype.pow=function(e,t){if(t.isZero())return new d(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new d(1).toRed(this),r[1]=e;for(var o=2;o<r.length;o++)r[o]=this.mul(r[o-1],e);var n=r[0],a=0,s=0,l=t.bitLength()%26;for(0===l&&(l=26),o=t.length-1;0<=o;o--){for(var p,u=t.words[o],c=l-1;0<=c;c--){if(p=1&u>>c,n!==r[0]&&(n=this.sqr(n)),0===p&&0===a){s=0;continue}a<<=1,a|=p,s++,4!==s&&(0!=o||0!=c)||(n=this.mul(n,r[a]),s=0,a=0)}l=26}return n},b.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},b.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},d.mont=function(e){return new v(e)},n(v,b),v.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},v.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},v.prototype.imul=function(e,r){if(e.isZero()||r.isZero())return e.words[0]=0,e.length=1,e;var o=e.imul(r),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=o.isub(t).iushrn(this.shift),i=n;return 0<=n.cmp(this.m)?i=n.isub(this.m):0>n.cmpn(0)&&(i=n.iadd(this.m)),i._forceRed(this)},v.prototype.mul=function(e,r){if(e.isZero()||r.isZero())return new d(0)._forceRed(this);var o=e.mul(r),t=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=o.isub(t).iushrn(this.shift),i=n;return 0<=n.cmp(this.m)?i=n.isub(this.m):0>n.cmpn(0)&&(i=n.iadd(this.m)),i._forceRed(this)},v.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}})(e,O)}),me=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.version="4.0.27"});t(me);var be=me.version,ve=r(function(e,t){function r(e,r,o){if(s)throw new Error("unknown error");r||(r=t.UNKNOWN_ERROR),o||(o={});var n=[];Object.keys(o).forEach(function(e){try{n.push(e+"="+JSON.stringify(o[e]))}catch(t){n.push(e+"="+JSON.stringify(o[e].toString()))}}),n.push("version="+me.version);var i=e;n.length&&(e+=" ("+n.join(", ")+")");var a=new Error(e);throw a.reason=i,a.code=r,Object.keys(o).forEach(function(e){a[e]=o[e]}),a}function o(e,o){a&&r("error censorship permanent",t.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),s=!!e,a=!!o}function n(e,t){l>d[e]||console.log.apply(console,t)}function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n("warn",e)}Object.defineProperty(t,"__esModule",{value:!0}),t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.MISSING_NEW="MISSING_NEW",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.NUMERIC_FAULT="NUMERIC_FAULT",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION";var a=!1,s=!1;t.throwError=r,t.checkNew=function(e,o){e instanceof o||r("missing new",t.MISSING_NEW,{name:o.name})},t.checkArgumentCount=function(e,o,n){n||(n=""),e<o&&r("missing argument"+n,t.MISSING_ARGUMENT,{count:e,expectedCount:o}),e>o&&r("too many arguments"+n,t.UNEXPECTED_ARGUMENT,{count:e,expectedCount:o})},t.setCensorship=o,t.checkNormalize=function(){try{if(["NFD","NFC","NFKD","NFKC"].forEach(function(e){try{}catch(t){throw new Error("missing "+e)}}),L(233).normalize("NFD")!==L(101,769))throw new Error("broken implementation")}catch(e){r("platform missing String.prototype.normalize",t.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:e.message})}};var d={debug:1,default:2,info:2,warn:3,error:4,off:5},l=d["default"];t.setLogLevel=function(e){var t=d[e];return null==t?void i("invliad log level - "+e):void(l=t)},t.warn=i,t.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];n("info",e)}});t(ve);var we=ve.UNKNOWN_ERROR,_e=ve.NOT_IMPLEMENTED,Ne=ve.MISSING_NEW,xe=ve.CALL_EXCEPTION,Ee=ve.INVALID_ARGUMENT,Ae=ve.MISSING_ARGUMENT,ke=ve.UNEXPECTED_ARGUMENT,Te=ve.NUMERIC_FAULT,Ie=ve.INSUFFICIENT_FUNDS,Se=ve.NONCE_EXPIRED,Re=ve.REPLACEMENT_UNDERPRICED,Me=ve.UNSUPPORTED_OPERATION,Ue=ve.throwError,Le=ve.checkNew,Be=ve.checkArgumentCount,Oe=ve.setCensorship,Pe=ve.checkNormalize,Ce=ve.setLogLevel,De=ve.warn,Fe=ve.info,je=r(function(e,t){function r(e){return!!e.toHexString}function o(e){return e.slice?e:(e.slice=function(){var t=Array.prototype.slice.call(arguments);return o(new Uint8Array(Array.prototype.slice.apply(e,t)))},e)}function n(e){if(!e||parseInt(e.length+"")!=e.length||"string"==typeof e)return!1;for(var t,r=0;r<e.length;r++)if(t=e[r],0>t||256<=t||parseInt(t+"")!=t)return!1;return!0}function a(e){if(null==e&&y.throwError("cannot convert null value to array",y.INVALID_ARGUMENT,{arg:"value",value:e}),r(e)&&(e=e.toHexString()),"string"==typeof e){var t=e.match(/^(0x)?[0-9a-fA-F]*$/);t||y.throwError("invalid hexidecimal string",y.INVALID_ARGUMENT,{arg:"value",value:e}),"0x"!==t[1]&&y.throwError("hex string must have 0x prefix",y.INVALID_ARGUMENT,{arg:"value",value:e}),e=e.substring(2),e.length%2&&(e="0"+e);for(var a=[],s=0;s<e.length;s+=2)a.push(parseInt(e.substr(s,2),16));return o(new Uint8Array(a))}return n(e)?o(new Uint8Array(e)):(y.throwError("invalid arrayify value",null,{arg:"value",value:e,type:typeof e}),null)}function s(e){for(var t,r=[],n=0,s=0;s<e.length;s++)t=a(e[s]),r.push(t),n+=t.length;for(var d=new Uint8Array(n),l=0,s=0;s<r.length;s++)d.set(r[s],l),l+=r[s].length;return o(d)}function d(e,t){return!!("string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/))&&!(t&&e.length!==2+2*t)}function l(e){if(r(e))return e.toHexString();if("number"==typeof e){0>e&&y.throwError("cannot hexlify negative value",y.INVALID_ARGUMENT,{arg:"value",value:e}),9007199254740991<=e&&y.throwError("out-of-range",y.NUMERIC_FAULT,{operartion:"hexlify",fault:"out-of-safe-range"});for(var t="";e;)t="0123456789abcdef"[15&e]+t,e=B(e/16);return t.length?(t.length%2&&(t="0"+t),"0x"+t):"0x00"}if("string"==typeof e){var o=e.match(/^(0x)?[0-9a-fA-F]*$/);return o||y.throwError("invalid hexidecimal string",y.INVALID_ARGUMENT,{arg:"value",value:e}),"0x"!==o[1]&&y.throwError("hex string must have 0x prefix",y.INVALID_ARGUMENT,{arg:"value",value:e}),e.length%2&&(e="0x0"+e.substring(2)),e}if(n(e)){for(var a,s=[],d=0;d<e.length;d++)a=e[d],s.push("0123456789abcdef"[(240&a)>>4]+"0123456789abcdef"[15&a]);return"0x"+s.join("")}return y.throwError("invalid hexlify value",null,{arg:"value",value:e}),"never"}function p(e,t){for(d(e)||y.throwError("invalid hex string",y.INVALID_ARGUMENT,{arg:"value",value:e});e.length<2*t+2;)e="0x0"+e.substring(2);return e}function u(e){return e&&null!=e.r&&null!=e.s}function c(e){var t=0,o="0x",n="0x";if(u(e)){null==e.v&&null==e.recoveryParam&&y.throwError("at least on of recoveryParam or v must be specified",y.INVALID_ARGUMENT,{argument:"signature",value:e}),o=p(e.r,32),n=p(e.s,32),t=e.v,"string"==typeof t&&(t=parseInt(t,16));var i=e.recoveryParam;null==i&&null!=e.v&&(i=1-t%2),t=27+i}else{var d=a(e);if(65!==d.length)throw new Error("invalid signature");o=l(d.slice(0,32)),n=l(d.slice(32,64)),t=d[64],27!==t&&28!==t&&(t=27+t%2)}return{r:o,s:n,recoveryParam:t-27,v:t}}var h=O&&O.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var y=h(ve);t.isHexable=r,t.isArrayish=n,t.arrayify=a,t.concat=s,t.stripZeros=function(e){var t=a(e);if(0===t.length)return t;for(var r=0;0===t[r];)r++;return r&&(t=t.slice(r)),t},t.padZeros=function(e,t){if(e=a(e),t<e.length)throw new Error("cannot pad");var r=new Uint8Array(t);return r.set(e,t-e.length),o(r)},t.isHexString=d;t.hexlify=l,t.hexDataLength=function(e){return d(e)&&0==e.length%2?(e.length-2)/2:null},t.hexDataSlice=function(e,t,r){return d(e)||y.throwError("invalid hex data",y.INVALID_ARGUMENT,{arg:"value",value:e}),0!=e.length%2&&y.throwError("hex data length must be even",y.INVALID_ARGUMENT,{arg:"value",value:e}),t=2+2*t,null==r?"0x"+e.substring(t):"0x"+e.substring(t,2+2*r)},t.hexStripZeros=function(e){for(d(e)||y.throwError("invalid hex string",y.INVALID_ARGUMENT,{arg:"value",value:e});3<e.length&&"0x0"===e.substring(0,3);)e="0x"+e.substring(3);return e},t.hexZeroPad=p,t.splitSignature=c,t.joinSignature=function(e){return e=c(e),l(s([e.r,e.s,e.recoveryParam?"0x1c":"0x1b"]))}});t(je);var Ge=je.isHexable,ze=je.isArrayish,Ve=je.arrayify,Ze=je.concat,qe=je.stripZeros,He=je.padZeros,Ke=je.isHexString,We=je.hexlify,Je=je.hexDataLength,Xe=je.hexDataSlice,Ye=je.hexStripZeros,$e=je.hexZeroPad,Qe=je.splitSignature,et=je.joinSignature,tt=r(function(e,t){function r(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}function o(e,t){return e&&e._ethersType===t}function n(e,t){if(e===void 0||null===e||l[typeof e])return e;if(Array.isArray(e)){var i=e.map(function(e){return n(e,t)});return t&&Object.freeze(i),i}if("object"==typeof e){if(o(e,"BigNumber"))return e;if(o(e,"Description"))return e;if(o(e,"Indexed"))return e;var i={};for(var a in e){var s=e[a];void 0!==s&&r(i,a,n(s,t))}return t&&Object.freeze(i),i}if("function"==typeof e)return e;throw new Error("Cannot deepCopy "+typeof e)}function i(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function a(e){return function(t){i(t,e),r(t,"inherits",a(t))}}var s=O&&O.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var d=s(ve);t.defineReadOnly=r,t.setType=function(e,t){Object.defineProperty(e,"_ethersType",{configurable:!1,value:t,writable:!1})},t.isType=o,t.resolveProperties=function(e){var t={},r=[];return Object.keys(e).forEach(function(o){var n=e[o];n instanceof Promise?r.push(n.then(function(e){return t[o]=e,null})):t[o]=n}),Promise.all(r).then(function(){return t})},t.checkProperties=function(e,t){e&&"object"==typeof e||d.throwError("invalid object",d.INVALID_ARGUMENT,{argument:"object",value:e}),Object.keys(e).forEach(function(r){t[r]||d.throwError("invalid object key - "+r,d.INVALID_ARGUMENT,{argument:"transaction",value:e,key:r})})},t.shallowCopy=function(e){var t={};for(var r in e)t[r]=e[r];return t};var l={boolean:!0,number:!0,string:!0};t.deepCopy=n,t.inheritable=a});t(tt);var rt=tt.defineReadOnly,ot=tt.setType,nt=tt.isType,it=tt.resolveProperties,at=tt.checkProperties,st=tt.shallowCopy,dt=tt.deepCopy,lt=tt.inheritable,pt=r(function(e,t){function r(e){var t=e.toString(16);return"-"===t[0]?0==t.length%2?"-0x0"+t.substring(1):"-0x"+t.substring(1):1==t.length%2?"0x0"+t:"0x"+t}function n(e){return a(s(e))}function i(e){return new h(r(e))}function a(e){var t=e._hex;return"-"===t[0]?new p.default.BN(t.substring(3),16).mul(c):new p.default.BN(t.substring(2),16)}function s(e){return h.isBigNumber(e)?e:new h(e)}var d=O&&O.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},l=O&&O.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var p=d(fe),u=l(ve),c=new p.default.BN(-1),h=function(){function e(t){if(u.checkNew(this,e),tt.setType(this,"BigNumber"),"string"==typeof t)je.isHexString(t)?("0x"==t&&(t="0x0"),tt.defineReadOnly(this,"_hex",t)):"-"===t[0]&&je.isHexString(t.substring(1))?tt.defineReadOnly(this,"_hex",t):t.match(/^-?[0-9]*$/)?(""==t&&(t="0"),tt.defineReadOnly(this,"_hex",r(new p.default.BN(t)))):u.throwError("invalid BigNumber string value",u.INVALID_ARGUMENT,{arg:"value",value:t});else if("number"==typeof t){parseInt(t+"")!==t&&u.throwError("underflow",u.NUMERIC_FAULT,{operation:"setValue",fault:"underflow",value:t,outputValue:parseInt(t+"")});try{tt.defineReadOnly(this,"_hex",r(new p.default.BN(t)))}catch(e){u.throwError("overflow",u.NUMERIC_FAULT,{operation:"setValue",fault:"overflow",details:e.message})}}else t instanceof e?tt.defineReadOnly(this,"_hex",t._hex):t.toHexString?tt.defineReadOnly(this,"_hex",r(n(t.toHexString()))):t._hex&&je.isHexString(t._hex)?tt.defineReadOnly(this,"_hex",t._hex):je.isArrayish(t)?tt.defineReadOnly(this,"_hex",r(new p.default.BN(je.hexlify(t).substring(2),16))):u.throwError("invalid BigNumber value",u.INVALID_ARGUMENT,{arg:"value",value:t})}return e.prototype.fromTwos=function(e){return i(a(this).fromTwos(e))},e.prototype.toTwos=function(e){return i(a(this).toTwos(e))},e.prototype.abs=function(){return"-"===this._hex[0]?i(a(this).mul(c)):this},e.prototype.add=function(e){return i(a(this).add(n(e)))},e.prototype.sub=function(e){return i(a(this).sub(n(e)))},e.prototype.div=function(e){var t=s(e);return t.isZero()&&u.throwError("division by zero",u.NUMERIC_FAULT,{operation:"divide",fault:"division by zero"}),i(a(this).div(n(e)))},e.prototype.mul=function(e){return i(a(this).mul(n(e)))},e.prototype.mod=function(e){return i(a(this).mod(n(e)))},e.prototype.pow=function(e){return i(a(this).pow(n(e)))},e.prototype.maskn=function(e){return i(a(this).maskn(e))},e.prototype.eq=function(e){return a(this).eq(n(e))},e.prototype.lt=function(e){return a(this).lt(n(e))},e.prototype.lte=function(e){return a(this).lte(n(e))},e.prototype.gt=function(e){return a(this).gt(n(e))},e.prototype.gte=function(e){return a(this).gte(n(e))},e.prototype.isZero=function(){return a(this).isZero()},e.prototype.toNumber=function(){try{return a(this).toNumber()}catch(e){u.throwError("overflow",u.NUMERIC_FAULT,{operation:"setValue",fault:"overflow",details:e.message})}return null},e.prototype.toString=function(){return a(this).toString(10)},e.prototype.toHexString=function(){return this._hex},e.isBigNumber=function(e){return tt.isType(e,"BigNumber")},e}();t.BigNumber=h,t.bigNumberify=s});t(pt);var ut=pt.BigNumber,ct=pt.bigNumberify,ht=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.AddressZero="0x0000000000000000000000000000000000000000";t.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000";t.EtherSymbol="\u039E";var r=pt.bigNumberify(-1);t.NegativeOne=r;var o=pt.bigNumberify(0);t.Zero=o;var n=pt.bigNumberify(1);t.One=n;var i=pt.bigNumberify(2);t.Two=i;var a=pt.bigNumberify("1000000000000000000");t.WeiPerEther=a;var s=pt.bigNumberify("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");t.MaxUint256=s});t(ht);var yt=ht.AddressZero,gt=ht.HashZero,ft=ht.EtherSymbol,mt=ht.NegativeOne,bt=ht.Zero,vt=ht.One,wt=ht.Two,_t=ht.WeiPerEther,Nt=ht.MaxUint256,xt=r(function(e){/**
	 * [js-sha3]{@link https://github.com/emn178/js-sha3}
	 *
	 * @version 0.5.7
	 * @author Chen, Yi-Cyuan [emn178@gmail.com]
	 * @copyright Chen, Yi-Cyuan 2015-2016
	 * @license MIT
	 */(function(){function t(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var o=0;50>o;++o)this.s[o]=0}var r="object"==typeof window?window:{},o=!r.JS_SHA3_NO_NODE_JS&&"object"==typeof ae&&ae.versions&&ae.versions.node;o&&(r=O);for(var n=!r.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],s=[31,7936,2031616,520093696],d=[1,256,65536,16777216],l=[6,1536,393216,100663296],p=[0,8,16,24],u=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],c=[224,256,384,512],h=[128,256],y=["hex","buffer","arrayBuffer","array"],g=function(e,r,o){return function(n){return new t(e,r,e).update(n)[o]()}},m=function(e,r,o){return function(n,i){return new t(e,r,i).update(n)[o]()}},b=function(e,r){var o=g(e,r,"hex");o.create=function(){return new t(e,r,e)},o.update=function(e){return o.create().update(e)};for(var n,a=0;a<y.length;++a)n=y[a],o[n]=g(e,r,n);return o},v=function(e,r){var o=m(e,r,"hex");o.create=function(o){return new t(e,r,o)},o.update=function(e,t){return o.create(t).update(e)};for(var n,a=0;a<y.length;++a)n=y[a],o[n]=m(e,r,n);return o},w=[{name:"keccak",padding:d,bits:c,createMethod:b},{name:"sha3",padding:l,bits:c,createMethod:b},{name:"shake",padding:s,bits:h,createMethod:v}],_={},N=[],x=0;x<w.length;++x)for(var E,A=w[x],k=A.bits,T=0;T<k.length;++T)E=A.name+"_"+k[T],N.push(E),_[E]=A.createMethod(k[T],A.padding);t.prototype.update=function(e){var t="string"!=typeof e;t&&e.constructor===ArrayBuffer&&(e=new Uint8Array(e));for(var r,o,n=e.length,a=this.blocks,d=this.byteCount,l=this.blockCount,u=0,c=this.s;u<n;){if(this.reset)for(this.reset=!1,a[0]=this.block,r=1;r<l+1;++r)a[r]=0;if(t)for(r=this.start;u<n&&r<d;++u)a[r>>2]|=e[u]<<p[3&r++];else for(r=this.start;u<n&&r<d;++u)o=e.charCodeAt(u),128>o?a[r>>2]|=o<<p[3&r++]:2048>o?(a[r>>2]|=(192|o>>6)<<p[3&r++],a[r>>2]|=(128|63&o)<<p[3&r++]):55296>o||57344<=o?(a[r>>2]|=(224|o>>12)<<p[3&r++],a[r>>2]|=(128|63&o>>6)<<p[3&r++],a[r>>2]|=(128|63&o)<<p[3&r++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++u)),a[r>>2]|=(240|o>>18)<<p[3&r++],a[r>>2]|=(128|63&o>>12)<<p[3&r++],a[r>>2]|=(128|63&o>>6)<<p[3&r++],a[r>>2]|=(128|63&o)<<p[3&r++]);if(this.lastByteIndex=r,r>=d){for(this.start=r-d,this.block=a[l],r=0;r<l;++r)c[r]^=a[r];I(c),this.reset=!0}else this.start=r}return this},t.prototype.finalize=function(){var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,o=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)o[t]^=e[t];I(o)},t.prototype.toString=t.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,o=this.outputBlocks,n=this.extraBytes,s=0,d=0,l="";d<o;){for(s=0;s<t&&d<o;++s,++d)e=r[s],l+=a[15&e>>4]+a[15&e]+a[15&e>>12]+a[15&e>>8]+a[15&e>>20]+a[15&e>>16]+a[15&e>>28]+a[15&e>>24];0==d%t&&(I(r),s=0)}return n&&(e=r[s],0<n&&(l+=a[15&e>>4]+a[15&e]),1<n&&(l+=a[15&e>>12]+a[15&e>>8]),2<n&&(l+=a[15&e>>20]+a[15&e>>16])),l},t.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,o=this.outputBlocks,n=this.extraBytes,a=0,s=0,d=this.outputBits>>3;e=n?new ArrayBuffer(o+1<<2):new ArrayBuffer(d);for(var l=new Uint32Array(e);s<o;){for(a=0;a<t&&s<o;++a,++s)l[s]=r[a];0==s%t&&I(r)}return n&&(l[a]=r[a],e=e.slice(0,d)),e},t.prototype.buffer=t.prototype.arrayBuffer,t.prototype.digest=t.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,o=this.s,n=this.outputBlocks,a=this.extraBytes,s=0,d=0,l=[];d<n;){for(s=0;s<r&&d<n;++s,++d)e=d<<2,t=o[s],l[e]=255&t,l[e+1]=255&t>>8,l[e+2]=255&t>>16,l[e+3]=255&t>>24;0==d%r&&I(o)}return a&&(e=d<<2,t=o[s],0<a&&(l[e]=255&t),1<a&&(l[e+1]=255&t>>8),2<a&&(l[e+2]=255&t>>16)),l};var I=function(e){var t,r,o,i,a,s,d,p,c,y,g,f,m,b,v,w,_,N,x,E,A,k,T,I,S,R,M,U,L,B,O,P,C,D,F,j,G,z,V,Z,q,H,K,W,J,X,Y,$,Q,ee,te,re,oe,ne,ie,ae,se,de,le,pe,ue,ce,he;for(o=0;48>o;o+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],a=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],d=e[3]^e[13]^e[23]^e[33]^e[43],p=e[4]^e[14]^e[24]^e[34]^e[44],c=e[5]^e[15]^e[25]^e[35]^e[45],y=e[6]^e[16]^e[26]^e[36]^e[46],g=e[7]^e[17]^e[27]^e[37]^e[47],f=e[8]^e[18]^e[28]^e[38]^e[48],m=e[9]^e[19]^e[29]^e[39]^e[49],t=f^(s<<1|d>>>31),r=m^(d<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(p<<1|c>>>31),r=a^(c<<1|p>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(y<<1|g>>>31),r=d^(g<<1|y>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=p^(f<<1|m>>>31),r=c^(m<<1|f>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=y^(i<<1|a>>>31),r=g^(a<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,b=e[0],v=e[1],X=e[11]<<4|e[10]>>>28,Y=e[10]<<4|e[11]>>>28,U=e[20]<<3|e[21]>>>29,L=e[21]<<3|e[20]>>>29,pe=e[31]<<9|e[30]>>>23,ue=e[30]<<9|e[31]>>>23,H=e[40]<<18|e[41]>>>14,K=e[41]<<18|e[40]>>>14,D=e[2]<<1|e[3]>>>31,F=e[3]<<1|e[2]>>>31,w=e[13]<<12|e[12]>>>20,_=e[12]<<12|e[13]>>>20,$=e[22]<<10|e[23]>>>22,Q=e[23]<<10|e[22]>>>22,B=e[33]<<13|e[32]>>>19,O=e[32]<<13|e[33]>>>19,ce=e[42]<<2|e[43]>>>30,he=e[43]<<2|e[42]>>>30,ne=e[5]<<30|e[4]>>>2,ie=e[4]<<30|e[5]>>>2,j=e[14]<<6|e[15]>>>26,G=e[15]<<6|e[14]>>>26,N=e[25]<<11|e[24]>>>21,x=e[24]<<11|e[25]>>>21,ee=e[34]<<15|e[35]>>>17,te=e[35]<<15|e[34]>>>17,P=e[45]<<29|e[44]>>>3,C=e[44]<<29|e[45]>>>3,I=e[6]<<28|e[7]>>>4,S=e[7]<<28|e[6]>>>4,ae=e[17]<<23|e[16]>>>9,se=e[16]<<23|e[17]>>>9,z=e[26]<<25|e[27]>>>7,V=e[27]<<25|e[26]>>>7,E=e[36]<<21|e[37]>>>11,A=e[37]<<21|e[36]>>>11,re=e[47]<<24|e[46]>>>8,oe=e[46]<<24|e[47]>>>8,W=e[8]<<27|e[9]>>>5,J=e[9]<<27|e[8]>>>5,R=e[18]<<20|e[19]>>>12,M=e[19]<<20|e[18]>>>12,de=e[29]<<7|e[28]>>>25,le=e[28]<<7|e[29]>>>25,Z=e[38]<<8|e[39]>>>24,q=e[39]<<8|e[38]>>>24,k=e[48]<<14|e[49]>>>18,T=e[49]<<14|e[48]>>>18,e[0]=b^~w&N,e[1]=v^~_&x,e[10]=I^~R&U,e[11]=S^~M&L,e[20]=D^~j&z,e[21]=F^~G&V,e[30]=W^~X&$,e[31]=J^~Y&Q,e[40]=ne^~ae&de,e[41]=ie^~se&le,e[2]=w^~N&E,e[3]=_^~x&A,e[12]=R^~U&B,e[13]=M^~L&O,e[22]=j^~z&Z,e[23]=G^~V&q,e[32]=X^~$&ee,e[33]=Y^~Q&te,e[42]=ae^~de&pe,e[43]=se^~le&ue,e[4]=N^~E&k,e[5]=x^~A&T,e[14]=U^~B&P,e[15]=L^~O&C,e[24]=z^~Z&H,e[25]=V^~q&K,e[34]=$^~ee&re,e[35]=Q^~te&oe,e[44]=de^~pe&ce,e[45]=le^~ue&he,e[6]=E^~k&b,e[7]=A^~T&v,e[16]=B^~P&I,e[17]=O^~C&S,e[26]=Z^~H&D,e[27]=q^~K&F,e[36]=ee^~re&W,e[37]=te^~oe&J,e[46]=pe^~ce&ne,e[47]=ue^~he&ie,e[8]=k^~b&w,e[9]=T^~v&_,e[18]=P^~I&R,e[19]=C^~S&M,e[28]=H^~D&j,e[29]=K^~F&G,e[38]=re^~W&X,e[39]=oe^~J&Y,e[48]=ce^~ne&ae,e[49]=he^~ie&se,e[0]^=u[o],e[1]^=u[o+1]};if(n)e.exports=_;else for(var x=0;x<N.length;++x)r[N[x]]=_[N[x]]})()}),Et=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.keccak256=function(e){return"0x"+xt.keccak_256(je.arrayify(e))}});t(Et);var At=Et.keccak256,kt=r(function(e,t){function r(e){for(var t=[];e;)t.unshift(255&e),e>>=8;return t}function o(e,t,r){for(var o=0,n=0;n<r;n++)o=256*o+e[t+n];return o}function n(e){if(Array.isArray(e)){var t=[];if(e.forEach(function(e){t=t.concat(n(e))}),55>=t.length)return t.unshift(192+t.length),t;var o=r(t.length);return o.unshift(247+o.length),o.concat(t)}var i=Array.prototype.slice.call(je.arrayify(e));if(1===i.length&&127>=i[0])return i;if(55>=i.length)return i.unshift(128+i.length),i;var o=r(i.length);return o.unshift(183+o.length),o.concat(i)}function i(e,t,r,o){for(var n,i=[];r<t+1+o;)if(n=a(e,r),i.push(n.result),r+=n.consumed,r>t+1+o)throw new Error("invalid rlp");return{consumed:1+o,result:i}}function a(e,t){if(0===e.length)throw new Error("invalid rlp data");if(248<=e[t]){var r=e[t]-247;if(t+1+r>e.length)throw new Error("too short");var n=o(e,t+1,r);if(t+1+r+n>e.length)throw new Error("to short");return i(e,t,t+1+r,r+n)}if(192<=e[t]){var n=e[t]-192;if(t+1+n>e.length)throw new Error("invalid rlp data");return i(e,t,t+1,n)}if(184<=e[t]){var r=e[t]-183;if(t+1+r>e.length)throw new Error("invalid rlp data");var n=o(e,t+1,r);if(t+1+r+n>e.length)throw new Error("invalid rlp data");var a=je.hexlify(e.slice(t+1+r,t+1+r+n));return{consumed:1+r+n,result:a}}if(128<=e[t]){var n=e[t]-128;if(t+1+n>e.length)throw new Error("invlaid rlp data");var a=je.hexlify(e.slice(t+1,t+1+n));return{consumed:1+n,result:a}}return{consumed:1,result:je.hexlify(e[t])}}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=function(e){return je.hexlify(n(e))},t.decode=function(e){var t=je.arrayify(e),r=a(t,0);if(r.consumed!==t.length)throw new Error("invalid rlp data");return r.result}});t(kt);var Tt=kt.encode,It=kt.decode,St=r(function(e,t){function r(e){"string"==typeof e&&e.match(/^0x[0-9A-Fa-f]{40}$/)||ve.throwError("invalid address",ve.INVALID_ARGUMENT,{arg:"address",value:e}),e=e.toLowerCase();for(var t=e.substring(2).split(""),r=new Uint8Array(40),o=0;40>o;o++)r[o]=t[o].charCodeAt(0);r=je.arrayify(Et.keccak256(r));for(var n=0;40>n;n+=2)8<=r[n>>1]>>4&&(t[n]=t[n].toUpperCase()),8<=(15&r[n>>1])&&(t[n+1]=t[n+1].toUpperCase());return"0x"+t.join("")}function o(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";var t="";for(e.split("").forEach(function(e){t+=l[e]});t.length>=u;){var r=t.substring(0,u);t=parseInt(r,10)%97+t.substring(r.length)}for(var o=98-parseInt(t,10)%97+"";2>o.length;)o="0"+o;return o}function n(e){var t=null;if("string"!=typeof e&&ve.throwError("invalid address",ve.INVALID_ARGUMENT,{arg:"address",value:e}),e.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==e.substring(0,2)&&(e="0x"+e),t=r(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&ve.throwError("bad address checksum",ve.INVALID_ARGUMENT,{arg:"address",value:e});else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==o(e)&&ve.throwError("bad icap checksum",ve.INVALID_ARGUMENT,{arg:"address",value:e}),t=new s.default.BN(e.substring(4),36).toString(16);40>t.length;)t="0"+t;t=r("0x"+t)}else ve.throwError("invalid address",ve.INVALID_ARGUMENT,{arg:"address",value:e});return t}var a=O&&O.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});for(var s=a(fe),d=9007199254740991,l={},p=0;10>p;p++)l[p+""]=p+"";for(var p=0;26>p;p++)l[L(65+p)]=10+p+"";var u=B(function(e){var t=Math.log10;return t?t(e):Math.log(e)/Math.LN10}(d));t.getAddress=n,t.getIcapAddress=function(e){for(var t=new s.default.BN(n(e).substring(2),16).toString(36).toUpperCase();30>t.length;)t="0"+t;return"XE"+o("XE00"+t)+t},t.getContractAddress=function(e){if(!e.from)throw new Error("missing from address");var t=e.nonce;return n("0x"+Et.keccak256(kt.encode([n(e.from),je.stripZeros(je.hexlify(t))])).substring(26))}});t(St);var Rt=St.getAddress,Mt=St.getIcapAddress,Ut=St.getContractAddress,Lt=r(function(e,t){function r(e,t){void 0===t&&(t=n.current),t!=n.current&&(ve.checkNormalize(),e=e.normalize(t));for(var r,o=[],a=0;a<e.length;a++)if(r=e.charCodeAt(a),128>r)o.push(r);else if(2048>r)o.push(192|r>>6),o.push(128|63&r);else if(55296==(64512&r)){a++;var s=e.charCodeAt(a);if(a>=e.length||56320!=(64512&s))throw new Error("invalid utf-8 string");r=65536+((1023&r)<<10)+(1023&s),o.push(240|r>>18),o.push(128|63&r>>12),o.push(128|63&r>>6),o.push(128|63&r)}else o.push(224|r>>12),o.push(128|63&r>>6),o.push(128|63&r);return je.arrayify(o)}function o(e,t){e=je.arrayify(e);for(var r="",o=0;o<e.length;){var n=e[o++];if(0==n>>7){r+=L(n);continue}var a=null,s=null;if(192==(224&n))a=1,s=127;else if(224==(240&n))a=2,s=2047;else if(240==(248&n))a=3,s=65535;else{if(!t){if(128==(192&n))throw new Error("invalid utf8 byte sequence; unexpected continuation byte");throw new Error("invalid utf8 byte sequence; invalid prefix")}continue}if(o+a>e.length){if(!t)throw new Error("invalid utf8 byte sequence; too short");for(;o<e.length&&2==e[o]>>6;o++);continue}for(var d,l=n&(1<<8-a-1)-1,p=0;p<a;p++){if(d=e[o],128!=(192&d)){l=null;break}l=l<<6|63&d,o++}if(null===l){if(!t)throw new Error("invalid utf8 byte sequence; invalid continuation byte");continue}if(l<=s){if(!t)throw new Error("invalid utf8 byte sequence; overlong");continue}if(1114111<l){if(!t)throw new Error("invalid utf8 byte sequence; out-of-range");continue}if(55296<=l&&57343>=l){if(!t)throw new Error("invalid utf8 byte sequence; utf-16 surrogate");continue}if(65535>=l){r+=L(l);continue}l-=65536,r+=L((1023&l>>10)+55296,(1023&l)+56320)}return r}Object.defineProperty(t,"__esModule",{value:!0});var n;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(n=t.UnicodeNormalizationForm||(t.UnicodeNormalizationForm={})),t.toUtf8Bytes=r,t.toUtf8String=o,t.formatBytes32String=function(e){var t=r(e);if(31<t.length)throw new Error("bytes32 string must be less than 32 bytes");return je.hexlify(je.concat([t,ht.HashZero]).slice(0,32))},t.parseBytes32String=function(e){var t=je.arrayify(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 sdtring - no null terminator");for(var r=31;0===t[r-1];)r--;return o(t.slice(0,r))}});t(Lt);var Bt=Lt.UnicodeNormalizationForm,Ot=Lt.toUtf8Bytes,Pt=Lt.toUtf8String,Ct=Lt.formatBytes32String,Dt=Lt.parseBytes32String,Ft=r(function(e,t){function r(e){return e.match(/^uint($|[^1-9])/)?e="uint256"+e.substring(4):e.match(/^int($|[^1-9])/)&&(e="int256"+e.substring(3)),e}function o(e,t){function o(e){throw new Error("unexpected character \""+n[e]+"\" at position "+e+" in \""+n+"\"")}var n=e;e=e.replace(/\s/g," ");for(var a,s={type:"",name:"",state:{allowType:!0}},d=s,l=0;l<e.length;l++)switch(a=e[l],a){case"(":d.state.allowParams||o(l),d.state.allowType=!1,d.type=r(d.type),d.components=[{type:"",name:"",parent:d,state:{allowType:!0}}],d=d.components[0];break;case")":delete d.state,t&&"indexed"===d.name&&(d.indexed=!0,d.name=""),d.type=r(d.type);var p=d;d=d.parent,d||o(l),delete p.parent,d.state.allowParams=!1,d.state.allowName=!0,d.state.allowArray=!0;break;case",":delete d.state,t&&"indexed"===d.name&&(d.indexed=!0,d.name=""),d.type=r(d.type);var u={type:"",name:"",parent:d.parent,state:{allowType:!0}};d.parent.components.push(u),delete d.parent,d=u;break;case" ":d.state.allowType&&""!==d.type&&(d.type=r(d.type),delete d.state.allowType,d.state.allowName=!0,d.state.allowParams=!0),d.state.allowName&&""!==d.name&&(t&&"indexed"===d.name?(d.indexed=!0,d.name=""):d.state.allowName=!1);break;case"[":d.state.allowArray||o(l),d.type+=a,d.state.allowArray=!1,d.state.allowName=!1,d.state.readArray=!0;break;case"]":d.state.readArray||o(l),d.type+=a,d.state.readArray=!1,d.state.allowArray=!0,d.state.allowName=!0;break;default:d.state.allowType?(d.type+=a,d.state.allowParams=!0,d.state.allowArray=!0):d.state.allowName?(d.name+=a,delete d.state.allowArray):d.state.readArray?d.type+=a:o(l);}if(d.parent)throw new Error("unexpected eof");return delete s.state,t&&"indexed"===d.name&&(d.indexed=!0,d.name=""),s.type=r(s.type),s}function n(e){var t={anonymous:!1,inputs:[],name:"",type:"event"},r=e.match(_);if(!r)throw new Error("invalid event: "+e);if(t.name=r[1].trim(),c(r[2]).forEach(function(e){e=o(e,!0),e.indexed=!!e.indexed,t.inputs.push(e)}),r[3].split(" ").forEach(function(e){switch(e){case"anonymous":t.anonymous=!0;break;case"":break;default:m.info("unknown modifier: "+e);}}),t.name&&!t.name.match(N))throw new Error("invalid identifier: \""+t.name+"\"");return t}function i(e){var t={constant:!1,gas:null,inputs:[],name:"",outputs:[],payable:!1,stateMutability:null,type:"function"},r=e.split("@");if(1!==r.length){if(2<r.length)throw new Error("invalid signature");if(!r[1].match(/^[0-9]+$/))throw new Error("invalid signature gas");t.gas=pt.bigNumberify(r[1]),e=r[0]}r=e.split(" returns ");var n=r[0].match(_);if(!n)throw new Error("invalid signature");if(t.name=n[1].trim(),!t.name.match(N))throw new Error("invalid identifier: \""+n[1]+"\"");if(c(n[2]).forEach(function(e){t.inputs.push(o(e))}),n[3].split(" ").forEach(function(e){switch(e){case"constant":t.constant=!0;break;case"payable":t.payable=!0,t.stateMutability="payable";break;case"pure":t.constant=!0,t.stateMutability="pure";break;case"view":t.constant=!0,t.stateMutability="view";break;case"external":case"public":case"":break;default:m.info("unknown modifier: "+e);}}),1<r.length){var i=r[1].match(_);if(""!=i[1].trim()||""!=i[3].trim())throw new Error("unexpected tokens");c(i[2]).forEach(function(e){t.outputs.push(o(e))})}if("constructor"===t.name){if(t.type="constructor",t.outputs.length)throw new Error("constructor may not have outputs");delete t.name,delete t.outputs}return t}function a(e){return y(t.defaultCoerceFunc,e).type}function s(e){var t=32*U(e.length/32),r=new Uint8Array(t-e.length);return je.concat([T.encode(e.length),e,r])}function d(e,t,r){e.length<t+32&&m.throwError("insufficient data for dynamicBytes length",m.INVALID_ARGUMENT,{arg:r,coderType:"dynamicBytes",value:je.hexlify(e.slice(t,t+32))});var o=T.decode(e,t).value;try{o=o.toNumber()}catch(e){m.throwError("dynamic bytes count too large",m.INVALID_ARGUMENT,{arg:r,coderType:"dynamicBytes",value:o.toString()})}return e.length<t+32+o&&m.throwError("insufficient data for dynamicBytes type",m.INVALID_ARGUMENT,{arg:r,coderType:"dynamicBytes",value:je.hexlify(e.slice(t,t+32+o))}),{consumed:32+32*U(o/32),value:e.slice(t+32,t+32+o)}}function l(e){return 32*U(e/32)}function p(e,t){if(Array.isArray(t));else if(t&&"object"==typeof t){var r=[];e.forEach(function(e){r.push(t[e.localName])}),t=r}else m.throwError("invalid tuple value",m.INVALID_ARGUMENT,{coderType:"tuple",value:t});e.length!==t.length&&m.throwError("types/value length mismatch",m.INVALID_ARGUMENT,{coderType:"tuple",value:t});var o=[];e.forEach(function(e,r){o.push({dynamic:e.dynamic,value:e.encode(t[r])})});var n=0,i=0;o.forEach(function(e){e.dynamic?(n+=32,i+=l(e.value.length)):n+=l(e.value.length)});var a=0,s=n,d=new Uint8Array(n+i);return o.forEach(function(e){e.dynamic?(d.set(T.encode(s),a),a+=32,d.set(e.value,s),s+=l(e.value.length)):(d.set(e.value,a),a+=l(e.value.length))}),d}function u(e,t,r){var o=r,n=0,i=[];return e.forEach(function(e){if(e.dynamic){var a=T.decode(t,r),s=e.decode(t,o+a.value.toNumber());s.consumed=a.consumed}else var s=e.decode(t,r);null!=s.value&&i.push(s.value),r+=s.consumed,n+=s.consumed}),e.forEach(function(e,t){var r=e.localName;r&&("length"===r&&(r="_length"),null!=i[r]||(i[r]=i[t]))}),{value:i,consumed:n}}function c(e){e=e.trim();for(var t,r=[],o="",n=0,i=0;i<e.length;i++)if(t=e[i],","===t&&0===n)r.push(o),o="";else if(o+=t,"("===t)n++;else if(")"===t&&(n--,-1===n))throw new Error("unbalanced parenthsis");return o&&r.push(o),r}function h(e,t,r){t||(t=[]);var o=[];return t.forEach(function(t){o.push(y(e,t))}),new P(e,o,r)}function y(e,t){var r=C[t.type];if(r)return new r(e,t.name);var o=t.type.match(v);if(o){var n=parseInt(o[2]||"256");return(0===n||256<n||0!=n%8)&&m.throwError("invalid "+o[1]+" bit length",m.INVALID_ARGUMENT,{arg:"param",value:t}),new k(e,n/8,"int"===o[1],t.name)}var o=t.type.match(b);if(o){var n=parseInt(o[1]);return(0===n||32<n)&&m.throwError("invalid bytes length",m.INVALID_ARGUMENT,{arg:"param",value:t}),new S(e,n,t.name)}var o=t.type.match(w);if(o){var n=parseInt(o[2]||"-1");return t=tt.shallowCopy(t),t.type=o[1],t=tt.deepCopy(t),new B(e,y(e,t),n,t.name)}return"tuple"===t.type.substring(0,5)?h(e,t.components,t.name):""===t.type?new A(e,t.name):(m.throwError("invalid type",m.INVALID_ARGUMENT,{arg:"type",value:t.type}),null)}var g=O&&O.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),f=O&&O.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t};Object.defineProperty(t,"__esModule",{value:!0});var m=f(ve),b=new RegExp(/^bytes([0-9]*)$/),v=new RegExp(/^(u?int)([0-9]*)$/),w=new RegExp(/^(.*)\[([0-9]*)\]$/);t.defaultCoerceFunc=function(e,t){var r=e.match(v);return r&&48>=parseInt(r[2])?t.toNumber():t};var _=/^([^)(]*)\((.*)\)([^)(]*)$/,N=/^[A-Za-z_][A-Za-z0-9_]*$/;t.parseParamType=function(e){return o(e,!0)},t.formatParamType=a,t.formatSignature=function(e){return e.name+"("+e.inputs.map(function(e){return a(e)}).join(",")+")"},t.parseSignature=function(e){if("string"==typeof e)return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),"event "===e.substring(0,6)?n(e.substring(6).trim()):("function "===e.substring(0,9)&&(e=e.substring(9)),i(e.trim()));throw new Error("unknown signature")};var x=function(){return function(e,t,r,o,n){this.coerceFunc=e,this.name=t,this.type=r,this.localName=o,this.dynamic=n}}(),E=function(e){function t(t){var r=e.call(this,t.coerceFunc,t.name,t.type,void 0,t.dynamic)||this;return tt.defineReadOnly(r,"coder",t),r}return g(t,e),t.prototype.encode=function(e){return this.coder.encode(e)},t.prototype.decode=function(e,t){return this.coder.decode(e,t)},t}(x),A=function(e){function t(t,r){return e.call(this,t,"null","",r,!1)||this}return g(t,e),t.prototype.encode=function(){return je.arrayify([])},t.prototype.decode=function(e,t){if(t>e.length)throw new Error("invalid null");return{consumed:0,value:this.coerceFunc("null",void 0)}},t}(x),k=function(e){function t(t,r,o,n){var i=this,a=(o?"int":"uint")+8*r;return i=e.call(this,t,a,a,n,!1)||this,i.size=r,i.signed=o,i}return g(t,e),t.prototype.encode=function(e){try{var t=pt.bigNumberify(e);if(this.signed){var r=ht.MaxUint256.maskn(8*this.size-1);if(t.gt(r))throw new Error("out-of-bounds");if(r=r.add(ht.One).mul(ht.NegativeOne),t.lt(r))throw new Error("out-of-bounds")}else if(t.lt(ht.Zero)||t.gt(ht.MaxUint256.maskn(8*this.size)))throw new Error("out-of-bounds");return t=t.toTwos(8*this.size).maskn(8*this.size),this.signed&&(t=t.fromTwos(8*this.size).toTwos(256)),je.padZeros(je.arrayify(t),32)}catch(t){m.throwError("invalid number value",m.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:e})}return null},t.prototype.decode=function(e,t){e.length<t+32&&m.throwError("insufficient data for "+this.name+" type",m.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:je.hexlify(e.slice(t,t+32))});var r=32-this.size,o=pt.bigNumberify(e.slice(t+r,t+32));return o=this.signed?o.fromTwos(8*this.size):o.maskn(8*this.size),{consumed:32,value:this.coerceFunc(this.name,o)}},t}(x),T=new k(function(e,t){return t},32,!1,"none"),I=function(e){function t(t,r){return e.call(this,t,"bool","bool",r,!1)||this}return g(t,e),t.prototype.encode=function(e){return T.encode(e?1:0)},t.prototype.decode=function(e,t){try{var r=T.decode(e,t)}catch(e){throw"insufficient data for uint256 type"===e.reason&&m.throwError("insufficient data for boolean type",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"boolean",value:e.value}),e}return{consumed:r.consumed,value:this.coerceFunc("bool",!r.value.isZero())}},t}(x),S=function(e){function t(t,r,o){var n=this,i="bytes"+r;return n=e.call(this,t,i,i,o,!1)||this,n.length=r,n}return g(t,e),t.prototype.encode=function(e){var t=new Uint8Array(32);try{var r=je.arrayify(e);if(r.length!==this.length)throw new Error("incorrect data length");t.set(r)}catch(t){m.throwError("invalid "+this.name+" value",m.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:t.value||e})}return t},t.prototype.decode=function(e,t){return e.length<t+32&&m.throwError("insufficient data for "+name+" type",m.INVALID_ARGUMENT,{arg:this.localName,coderType:this.name,value:je.hexlify(e.slice(t,t+32))}),{consumed:32,value:this.coerceFunc(this.name,je.hexlify(e.slice(t,t+this.length)))}},t}(x),R=function(e){function t(t,r){return e.call(this,t,"address","address",r,!1)||this}return g(t,e),t.prototype.encode=function(e){var t=new Uint8Array(32);try{t.set(je.arrayify(St.getAddress(e)),12)}catch(t){m.throwError("invalid address",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"address",value:e})}return t},t.prototype.decode=function(e,t){return e.length<t+32&&m.throwError("insufficuent data for address type",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"address",value:je.hexlify(e.slice(t,t+32))}),{consumed:32,value:this.coerceFunc("address",St.getAddress(je.hexlify(e.slice(t+12,t+32))))}},t}(x),M=function(e){function t(t,r){return e.call(this,t,"bytes","bytes",r,!0)||this}return g(t,e),t.prototype.encode=function(e){try{return s(je.arrayify(e))}catch(e){m.throwError("invalid bytes value",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"bytes",value:e.value})}return null},t.prototype.decode=function(e,t){var r=d(e,t,this.localName);return r.value=this.coerceFunc("bytes",je.hexlify(r.value)),r},t}(x),L=function(e){function t(t,r){return e.call(this,t,"string","string",r,!0)||this}return g(t,e),t.prototype.encode=function(e){return"string"!=typeof e&&m.throwError("invalid string value",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"string",value:e}),s(Lt.toUtf8Bytes(e))},t.prototype.decode=function(e,t){var r=d(e,t,this.localName);return r.value=this.coerceFunc("string",Lt.toUtf8String(r.value)),r},t}(x),B=function(e){function t(t,r,o,n){var i=this,a=r.type+"["+(0<=o?o:"")+"]",s=-1===o||r.dynamic;return i=e.call(this,t,"array",a,n,s)||this,i.coder=r,i.length=o,i}return g(t,e),t.prototype.encode=function(e){Array.isArray(e)||m.throwError("expected array value",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:e});var t=this.length,r=new Uint8Array(0);-1===t&&(t=e.length,r=T.encode(t)),m.checkArgumentCount(t,e.length," in coder array"+(this.localName?" "+this.localName:""));for(var o=[],n=0;n<e.length;n++)o.push(this.coder);return je.concat([r,p(o,e)])},t.prototype.decode=function(e,t){var r=0,o=this.length;if(-1===o){try{var n=T.decode(e,t)}catch(e){m.throwError("insufficient data for dynamic array length",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:e.value})}try{o=n.value.toNumber()}catch(e){m.throwError("array count too large",m.INVALID_ARGUMENT,{arg:this.localName,coderType:"array",value:n.value.toString()})}r+=n.consumed,t+=n.consumed}for(var a=[],s=0;s<o;s++)a.push(new E(this.coder));var d=u(a,e,t);return d.consumed+=r,d.value=this.coerceFunc(this.type,d.value),d},t}(x),P=function(e){function t(t,r,o){var n=this,i=!1,a=[];r.forEach(function(e){e.dynamic&&(i=!0),a.push(e.type)});var s="tuple("+a.join(",")+")";return n=e.call(this,t,"tuple",s,o,i)||this,n.coders=r,n}return g(t,e),t.prototype.encode=function(e){return p(this.coders,e)},t.prototype.decode=function(e,t){var r=u(this.coders,e,t);return r.value=this.coerceFunc(this.type,r.value),r},t}(x),C={address:R,bool:I,string:L,bytes:M},D=function(){function e(r){m.checkNew(this,e),r||(r=t.defaultCoerceFunc),tt.defineReadOnly(this,"coerceFunc",r)}return e.prototype.encode=function(e,t){e.length!==t.length&&m.throwError("types/values length mismatch",m.INVALID_ARGUMENT,{count:{types:e.length,values:t.length},value:{types:e,values:t}});var r=[];return e.forEach(function(e){var t=null;t="string"==typeof e?o(e):e,r.push(y(this.coerceFunc,t))},this),je.hexlify(new P(this.coerceFunc,r,"_").encode(t))},e.prototype.decode=function(e,t){var r=[];return e.forEach(function(e){var t=null;t="string"==typeof e?o(e):tt.deepCopy(e),r.push(y(this.coerceFunc,t))},this),new P(this.coerceFunc,r,"_").decode(je.arrayify(t),0).value},e}();t.AbiCoder=D,t.defaultAbiCoder=new D});t(Ft);var jt=Ft.defaultCoerceFunc,Gt=Ft.parseParamType,zt=Ft.formatParamType,Vt=Ft.formatSignature,Zt=Ft.parseSignature,qt=Ft.AbiCoder,Ht=Ft.defaultAbiCoder,Kt="object"==typeof O&&O&&O.Object===Object&&O,Wt="object"==typeof self&&self&&self.Object===Object&&self,Jt=Kt||Wt||Function("return this")(),Xt=Jt,Yt=Xt.Symbol,$t=Yt,Qt=Object.prototype,er=Qt.hasOwnProperty,tr=Qt.toString,rr=$t?$t.toStringTag:void 0,or=function(e){var t=er.call(e,rr),r=e[rr];try{e[rr]=void 0}catch(t){}var o=tr.call(e);return t?e[rr]=r:delete e[rr],o},nr=Object.prototype,ir=nr.toString,ar=function(e){return ir.call(e)},sr=$t?$t.toStringTag:void 0,dr=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},lr=function(e){if(!dr(e))return!1;var t=_(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},pr=Xt["__core-js_shared__"],ur=pr,cr=function(){var e=/[^.]+$/.exec(ur&&ur.keys&&ur.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),hr=Function.prototype,yr=hr.toString,gr=function(e){if(null!=e){try{return yr.call(e)}catch(t){}try{return e+""}catch(t){}}return""},fr=/[\\^$.*+?()[\]{}|]/g,mr=/^\[object .+?Constructor\]$/,br=Function.prototype,vr=Object.prototype,wr=br.toString,_r=vr.hasOwnProperty,Nr=RegExp("^"+wr.call(_r).replace(fr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xr=function(e){if(!dr(e)||N(e))return!1;var t=lr(e)?Nr:mr;return t.test(gr(e))},Er=function(e,t){return null==e?void 0:e[t]},Ar=function(e,t){var r=Er(e,t);return xr(r)?r:void 0},kr=Ar(Object,"create"),Tr=kr,Ir=Object.prototype,Sr=Ir.hasOwnProperty,Rr=Object.prototype,Mr=Rr.hasOwnProperty;x.prototype.clear=function(){this.__data__=Tr?Tr(null):{},this.size=0},x.prototype["delete"]=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},x.prototype.get=function(e){var t=this.__data__;if(Tr){var r=t[e];return r==="__lodash_hash_undefined__"?void 0:r}return Sr.call(t,e)?t[e]:void 0},x.prototype.has=function(e){var t=this.__data__;return Tr?t[e]!==void 0:Mr.call(t,e)},x.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Tr&&void 0===t?"__lodash_hash_undefined__":t,this};var Ur=x,Lr=function(e,t){return e===t||e!==e&&t!==t},Br=function(e,t){for(var r=e.length;r--;)if(Lr(e[r][0],t))return r;return-1},Or=Array.prototype,Pr=Or.splice;E.prototype.clear=function(){this.__data__=[],this.size=0},E.prototype["delete"]=function(e){var t=this.__data__,r=Br(t,e);if(0>r)return!1;var o=t.length-1;return r==o?t.pop():Pr.call(t,r,1),--this.size,!0},E.prototype.get=function(e){var t=this.__data__,r=Br(t,e);return 0>r?void 0:t[r][1]},E.prototype.has=function(e){return-1<Br(this.__data__,e)},E.prototype.set=function(e,t){var r=this.__data__,o=Br(r,e);return 0>o?(++this.size,r.push([e,t])):r[o][1]=t,this};var Cr=Ar(Xt,"Map"),Dr=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Fr=function(e,t){var r=e.__data__;return Dr(t)?r["string"==typeof t?"string":"hash"]:r.map};A.prototype.clear=function(){this.size=0,this.__data__={hash:new Ur,map:new(Cr||E),string:new Ur}},A.prototype["delete"]=function(e){var t=Fr(this,e)["delete"](e);return this.size-=t?1:0,t},A.prototype.get=function(e){return Fr(this,e).get(e)},A.prototype.has=function(e){return Fr(this,e).has(e)},A.prototype.set=function(e,t){var r=Fr(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this};var jr=A;k.Cache=jr;var Gr=/\(.*?\)/g,zr=/^[^)]*\)/,Vr=k(function(e){var t=[e.map(function(e){var t=e.target,r=e.method,o=e.args,n=e.returnTypes;return[t,"0x"+de(r).substr(0,8)+(o&&0<o.length?y(f(o.map(function(e){return e[1]}),o.map(function(e){return e[0]}))):"")]})],r=f([{components:[{type:"address"},{type:"bytes"}],name:"data",type:"tuple[]"}],t);return r},function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return JSON.stringify(t)}),Zr=function(e,t){if(null==e)return{};var r,o,n={},a=Object.keys(e);for(o=0;o<a.length;o++)r=a[o],0<=t.indexOf(r)||(n[r]=e[r]);return n},qr=function(e,t){if(null==e)return{};var r,o,n=Zr(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)r=a[o],!(0<=t.indexOf(r))&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n},Hr=function(e){for(var t=1;t<arguments.length;t++){var r=null==arguments[t]?{}:arguments[t],o=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),o.forEach(function(t){S(e,t,r[t])})}return e},Kr={mainnet:{multicall:"0xeefba1e63905ef1d7acba5a8513c70307c1ce441",rpcUrl:"https://mainnet.infura.io"},kovan:{multicall:"0x2cc8688c5f75e365aaeeb4ea8d6a480405a48d2a",rpcUrl:"https://kovan.infura.io"},rinkeby:{multicall:"0x42ad527de7d4e9d9d011ac45b31d8551f8fe9821",rpcUrl:"https://rinkeby.infura.io"},goerli:{multicall:"0x77dca2c955b15e9de4dbbcf1246b4b85b651e50e",rpcUrl:"https://rpc.slock.it/goerli"},xdai:{multicall:"0xb5b692a88bdfc81ca69dcb1d924f59f0413a602a",rpcUrl:"https://dai.poa.network"}};e.aggregate=T,e.createWatcher=function(e,t){function r(e,t){var r=!!(2<arguments.length&&arguments[2]!==void 0)&&arguments[2];if(!b(a.store)){var o=Object.entries(a.store).map(function(e){var t=K(e,2),r=t[0],o=t[1];return{type:r,value:o,args:a.keyToArgMap[r]||[]}});r?e(o):o.forEach(e)}a.listeners.push({listener:e,id:t,batch:r})}function o(e,t){a.latestBlockNumber&&e(a.latestBlockNumber),a.newBlockListeners.push({listener:e,id:t})}function n(e){b(e)||a.listeners.forEach(function(t){var r=t.listener,o=t.batch;return o?r(e):e.forEach(r)})}function i(){var e=this,t=this.interval===void 0?this.state.config.interval===void 0?1e3:this.state.config.interval:this.interval;this.state.handler=setTimeout(J(F.mark(function t(){var r,o,s,d,l,p,u;return F.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.state.latestPromiseId++,r=e.state.latestPromiseId,t.next=4,T(e.state.model,e.state.config);case 4:if(o=t.sent,s=o.results,d=s.blockNumber,l=qr(s,["blockNumber"]),p=o.keyToArgMap,e.state.cancelPromiseId!==r){t.next=11;break}return t.abrupt("return");case 11:"function"==typeof e.resolveFetchPromise&&e.resolveFetchPromise(),null!==e.state.latestBlockNumber&&d<e.state.latestBlockNumber?i.call({state:e.state,interval:0}):((null===e.state.latestBlockNumber||null!==e.state.latestBlockNumber&&d>e.state.latestBlockNumber)&&(e.state.latestBlockNumber=d,a.newBlockListeners.forEach(function(e){var t=e.listener;return t(d)})),u=Object.entries(l).filter(function(t){var r=K(t,2),o=r[0],n=r[1];return R(o,n,e.state.store)}).map(function(e){var t=K(e,2),r=t[0],o=t[1];return{type:r,value:o,args:p[r]||[]}}),e.state.store=Hr({},l),e.state.keyToArgMap=Hr({},p),n(u),i.call({state:e.state}));case 13:case"end":return t.stop();}},t,this)})),t)}var a={model:V(e),store:{},keyToArgMap:{},latestPromiseId:0,latestBlockNumber:null,listeners:[],newBlockListeners:[],handler:null,watching:!1,config:M(t),id:0};a.initialFetchPromise=new Promise(function(e){a.initialFetchResolver=e});var s={tap:function(e){var t,r=new Promise(function(e){t=e}),o=e(V(a.model));return a.model=V(o),a.watching?(clearTimeout(a.handler),a.handler=null,i.call({state:a,interval:0,resolveFetchPromise:t}),r):Promise.resolve()},subscribe:function(e){var t=a.id++;return r(e,t,!1),{unsub:function(){a.listeners=a.listeners.filter(function(e){var r=e.id;return r!==t})}}},onNewBlock:function(e){var t=a.id++;return o(e,t),{unsub:function(){a.newBlockListeners=a.newBlockListeners.filter(function(e){var r=e.id;return r!==t})}}},batch:function(){return{subscribe:function(e){var t=a.id++;return r(e,t,!0),{unsub:function(){a.listeners=a.listeners.filter(function(e){var r=e.id;return r!==t})}}}}},start:function(){return a.watching=!0,i.call({state:a,interval:0,resolveFetchPromise:a.initialFetchResolver}),s},startWatch:function(){return this.start()},stop:function(){clearTimeout(a.handler),a.handler=null,a.watching=!1},recreate:function(e,t){if(clearTimeout(a.handler),a.handler=null,a.config=M(t),a.model=V(e),a.store={},a.latestBlockNumber=null,a.cancelPromiseId=a.latestPromiseId,a.watching){var r,o=new Promise(function(e){r=e});return i.call({state:a,interval:0,resolveFetchPromise:r}),o}return Promise.resolve()},awaitInitialFetch:function(){return a.initialFetchPromise}};return s},Object.defineProperty(e,"__esModule",{value:!0})});
